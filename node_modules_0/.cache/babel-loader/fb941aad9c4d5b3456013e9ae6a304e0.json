{"ast":null,"code":"import _defineProperty from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\react\\\\lac\\\\src\\\\views\\\\dashboard\\\\DashboardEditPost.js\";\n\nimport React, { useEffect, useContext, useState, lazy } from 'react';\nimport { CBadge, CButton, CButtonGroup, CCard, CCardBody, CCardFooter, CCardHeader, CCol, CProgress, CRow, CCallout, CInputGroup, CInputGroupPrepend, CInputGroupText, CInput } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport EditorJs from 'react-editor-js';\nimport MainChartExample from '../charts/MainChartExample.js';\nimport Paragraph from '../../api-classes/Paragraph';\nimport RichText from '../../editor/RichText';\nimport ImageUpload from '../../Uploaders/image-uploader';\nimport PgCatProvider from \"../../context/PgCatContext\";\nimport ArticleProvider from \"../../context/ArticleContext\";\nimport TitleInput from \"../../inputs/title-input\";\nimport ArticleStatus from \"../../inputs/article-status\";\nimport ArticleCategory from \"../../inputs/article-category\";\nimport ToastMe from \"../../alerts/toaster\";\nimport ModalMe from \"../../modals/image-upload-modal\";\nimport { useParams, useLocation } from 'react-router-dom';\nimport LoginModal from '../../modals/login-modal';\nvar WidgetsDropdown = lazy(function () {\n  return import('../widgets/WidgetsDropdown.js');\n});\nvar WidgetsBrand = lazy(function () {\n  return import('../widgets/WidgetsBrand.js');\n});\nvar Styles = {\n  link: {\n    textDecoration: \"underline\",\n    fontSize: \"11px\",\n    color: \"green\"\n  },\n  Titles: {\n    color: \"black\"\n  },\n  Theme: {\n    background: \"rgb(250, 252, 255)\"\n  },\n  cardStyle: {\n    boxShadow: \" 0 4px 8px 0 rgba(0,0,0,0.2)\",\n    transition: \"0.3s\",\n    border: \"none\"\n  }\n};\n\nvar DashboardUpdatePost = function DashboardUpdatePost(props) {\n  var _React$createElement;\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var location = useLocation();\n\n  var _useContext = useContext(ArticleProvider.Context),\n      fetchArticleByIdApi = _useContext.fetchArticleByIdApi,\n      resetEditArticle = _useContext.resetEditArticle,\n      resetArticle = _useContext.resetArticle,\n      setEditMode = _useContext.setEditMode,\n      setArticle = _useContext.setArticle,\n      setCurrentArticle = _useContext.setCurrentArticle,\n      editMode = _useContext.editMode,\n      selectedImageEn = _useContext.selectedImageEn,\n      selectedImageFr = _useContext.selectedImageFr,\n      validateArticle = _useContext.validateArticle,\n      toast = _useContext.toast,\n      modal = _useContext.modal,\n      setModal = _useContext.setModal,\n      setToast = _useContext.setToast,\n      article = _useContext.article,\n      updateArticle = _useContext.updateArticle,\n      apiAction = _useContext.apiAction;\n\n  useEffect(function () {\n    if (id) {\n      resetArticle();\n      resetEditArticle();\n      setCurrentArticle(id);\n      setEditMode(\"update\");\n\n      if (location.state !== undefined) {\n        setArticle(function (prevArticle) {\n          console.log(\"prev article\", prevArticle);\n          console.log(\"route state data\", location.state.data);\n          return _objectSpread(_objectSpread({}, prevArticle), location.state.data);\n        });\n      } else {\n        fetchArticleByIdApi(id);\n      } //console.log(\"location state data\",location.state.data)\n\n    } else {\n      setEditMode(\"new\");\n    } //console.log(\"article after redirect\",article)\n\n\n    console.log(\"featured img\", article);\n  }, []);\n  var editorInstance;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"9\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    style: Styles.cardStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"English Version \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    style: Styles.link,\n    id: \"acpb_upload_button_fr\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 31\n    }\n  }, \"All posts\")), /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 14\n    }\n  }, \"Title \"), /*#__PURE__*/React.createElement(TitleInput, {\n    actionType: \"en\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Body \"), article.type !== \"code\" ? /*#__PURE__*/React.createElement(RichText, {\n    actionType: \"en\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 38\n    }\n  }) : /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 68\n    }\n  }, \"Code generated article\")))), /*#__PURE__*/React.createElement(CCol, {\n    md: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    style: Styles.cardStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    style: Styles.link,\n    id: \"acpb_en_ft\",\n    className: \"acpb_upload_button_featured\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 12\n    }\n  }, \"Set featured image (EN) \")), /*#__PURE__*/React.createElement(ImageUpload, {\n    postType: \"en\",\n    target: \"acpb_upload_button_featured\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), selectedImageEn !== \"\" && /*#__PURE__*/React.createElement(\"p\", {\n    align: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", (_React$createElement = {\n    href: \"\",\n    style: Styles.link,\n    id: \"acpb_en_ft\",\n    className: \"acpb_featured_en_remove\"\n  }, _defineProperty(_React$createElement, \"id\", \"acpb_ft_rm_en\"), _defineProperty(_React$createElement, \"__self\", _this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 52\n  }), _React$createElement), \"remove\")))), /*#__PURE__*/React.createElement(CCard, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    style: Styles.link,\n    id: \"acpb_fr_ft\",\n    className: \"acpb_upload_button_featured\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 12\n    }\n  }, \"Set featured image (FR) \")), /*#__PURE__*/React.createElement(ImageUpload, {\n    postType: \"fr\",\n    target: \"acpb_upload_button_featured\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }), selectedImageFr !== \"\" && /*#__PURE__*/React.createElement(\"p\", {\n    align: \"center\",\n    id: \"acpb_ft_rm_fr\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    style: Styles.link,\n    id: \"acpb_fr_ft\",\n    className: \"acpb_featured_fr_remove\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 71\n    }\n  }, \"remove\")))), /*#__PURE__*/React.createElement(CCard, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ArticleCategory, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(ArticleStatus, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 12\n    }\n  }), apiAction ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary px-4 w-100\",\n    disabled: apiAction,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spinner-grow spinner-grow-sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 23\n    }\n  }), \"Loading...\") : /*#__PURE__*/React.createElement(CButton, {\n    onClick: function onClick() {\n      validateArticle();\n    },\n    color: \"primary\",\n    size: \"md\",\n    block: true,\n    md: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, editMode === \"new\" ? \"Publish\" : \"Update\"), /*#__PURE__*/React.createElement(ToastMe, {\n    showToast: toast,\n    context: ArticleProvider.Context,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ModalMe, {\n    showToast: modal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }))))), /*#__PURE__*/React.createElement(CRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"9\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    style: Styles.cardStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, \"French\"), /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 14\n    }\n  }, \"Title (French)\"), /*#__PURE__*/React.createElement(TitleInput, {\n    actionType: \"fr\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, \"Body (French)\"), /*#__PURE__*/React.createElement(RichText, {\n    actionType: \"fr\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(LoginModal, {\n    context: ArticleProvider.Context,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default DashboardUpdatePost;","map":{"version":3,"sources":["C:/react/lac/src/views/dashboard/DashboardEditPost.js"],"names":["React","useEffect","useContext","useState","lazy","CBadge","CButton","CButtonGroup","CCard","CCardBody","CCardFooter","CCardHeader","CCol","CProgress","CRow","CCallout","CInputGroup","CInputGroupPrepend","CInputGroupText","CInput","CIcon","EditorJs","MainChartExample","Paragraph","RichText","ImageUpload","PgCatProvider","ArticleProvider","TitleInput","ArticleStatus","ArticleCategory","ToastMe","ModalMe","useParams","useLocation","LoginModal","WidgetsDropdown","WidgetsBrand","Styles","link","textDecoration","fontSize","color","Titles","Theme","background","cardStyle","boxShadow","transition","border","DashboardUpdatePost","props","id","location","Context","fetchArticleByIdApi","resetEditArticle","resetArticle","setEditMode","setArticle","setCurrentArticle","editMode","selectedImageEn","selectedImageFr","validateArticle","toast","modal","setModal","setToast","article","updateArticle","apiAction","state","undefined","prevArticle","console","log","data","editorInstance","type"],"mappings":"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","sourcesContent":["import React, {useEffect,useContext,useState, lazy } from 'react'\r\nimport {\r\n  CBadge,\r\n  CButton,\r\n  CButtonGroup,\r\n  CCard,\r\n  CCardBody,\r\n  CCardFooter,\r\n  CCardHeader,\r\n  CCol,\r\n  CProgress,\r\n  CRow,\r\n  CCallout,\r\n  CInputGroup,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CInput\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport EditorJs from 'react-editor-js';\r\n\r\n\r\nimport MainChartExample from '../charts/MainChartExample.js'\r\nimport Paragraph from '../../api-classes/Paragraph'\r\nimport RichText from '../../editor/RichText'\r\nimport ImageUpload from '../../Uploaders/image-uploader'\r\nimport PgCatProvider from \"../../context/PgCatContext\"\r\nimport ArticleProvider from \"../../context/ArticleContext\"\r\nimport TitleInput from \"../../inputs/title-input\"\r\nimport ArticleStatus from \"../../inputs/article-status\"\r\nimport ArticleCategory from \"../../inputs/article-category\"\r\nimport ToastMe from \"../../alerts/toaster\"\r\nimport ModalMe from \"../../modals/image-upload-modal\"\r\nimport {useParams,useLocation} from 'react-router-dom'\r\nimport LoginModal from '../../modals/login-modal'\r\n\r\n\r\nconst WidgetsDropdown = lazy(() => import('../widgets/WidgetsDropdown.js'))\r\nconst WidgetsBrand = lazy(() => import('../widgets/WidgetsBrand.js'))\r\n\r\n\r\nconst Styles={\r\n  link:{\r\n    textDecoration:\"underline\",\r\n    fontSize:\"11px\",\r\n    color:\"green\"\r\n  },\r\n  Titles:{\r\n    color:\"black\"\r\n  },\r\n  Theme:{\r\n    background:\"rgb(250, 252, 255)\"\r\n  },\r\n  cardStyle:{\r\n    boxShadow: \" 0 4px 8px 0 rgba(0,0,0,0.2)\",\r\n    transition: \"0.3s\",\r\n    border:\"none\"\r\n}\r\n}\r\n  \r\n\r\n\r\nconst DashboardUpdatePost = props=> {\r\n\r\n  const {id} =useParams()\r\n  const location =useLocation()\r\n  const {fetchArticleByIdApi,resetEditArticle,resetArticle,setEditMode,setArticle,setCurrentArticle,editMode,selectedImageEn,selectedImageFr,validateArticle,toast,modal,setModal,setToast,article,updateArticle,apiAction}=useContext(ArticleProvider.Context)\r\n \r\n useEffect(()=>{\r\n\r\n  if(id){\r\n    resetArticle()\r\n    resetEditArticle()\r\n    setCurrentArticle(id)\r\n    setEditMode(\"update\")\r\n    if(location.state!==undefined){\r\n        setArticle(prevArticle=>{\r\n            console.log(\"prev article\",prevArticle)\r\n            console.log(\"route state data\",location.state.data)\r\n            return {...prevArticle,...location.state.data}\r\n          })\r\n    }else{\r\n        fetchArticleByIdApi(id)\r\n    }\r\n    \r\n\r\n      //console.log(\"location state data\",location.state.data)\r\n    }else{\r\n      setEditMode(\"new\")\r\n    }\r\n    \r\n     //console.log(\"article after redirect\",article)\r\n  console.log(\"featured img\",article)\r\n },[])\r\n\r\n\r\n let editorInstance;\r\n\r\n     return (\r\n    <>\r\n      <CRow>\r\n        <CCol md=\"9\">\r\n          <CCard style={Styles.cardStyle}>\r\n            <CCardHeader>\r\n              English Version <a href=\"\" style={Styles.link} id=\"acpb_upload_button_fr\">All posts</a>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n             <h5>Title </h5>\r\n            <TitleInput  actionType=\"en\" />         \r\n            <h5>Body </h5>\r\n            {article.type!==\"code\" ? <RichText actionType=\"en\" />: <h2>Code generated article</h2>}\r\n            </CCardBody>\r\n          </CCard>\r\n\r\n        \r\n        </CCol>\r\n        <CCol md=\"3\">\r\n        <CCard style={Styles.cardStyle}>\r\n        <CCardBody>\r\n\r\n        <CCard>\r\n        <CCardBody>\r\n        <p><a href=\"\" style={Styles.link} id=\"acpb_en_ft\" className=\"acpb_upload_button_featured\">Set featured image (EN) </a></p>\r\n        <ImageUpload postType=\"en\" target=\"acpb_upload_button_featured\" />\r\n        {selectedImageEn!==\"\" && <p align=\"center\"><a href=\"\" style={Styles.link} id=\"acpb_en_ft\" className=\"acpb_featured_en_remove\" id=\"acpb_ft_rm_en\">remove</a></p>} \r\n                 \r\n        </CCardBody>\r\n          </CCard>\r\n\r\n          <CCard>\r\n        <CCardBody>\r\n        <p><a href=\"\" style={Styles.link} id=\"acpb_fr_ft\" className=\"acpb_upload_button_featured\">Set featured image (FR) </a></p>\r\n        <ImageUpload postType=\"fr\" target=\"acpb_upload_button_featured\" />\r\n        {selectedImageFr!==\"\" && <p align=\"center\" id=\"acpb_ft_rm_fr\"><a href=\"\" style={Styles.link} id=\"acpb_fr_ft\" className=\"acpb_featured_fr_remove\">remove</a></p>} \r\n        \r\n        {/* <hr /> */}\r\n                 \r\n        </CCardBody>\r\n          </CCard>\r\n\r\n\r\n          \r\n          <CCard>\r\n        <CCardBody>\r\n        \r\n        <ArticleCategory />\r\n                 \r\n        </CCardBody>\r\n          </CCard>\r\n         \r\n          \r\n           <ArticleStatus />\r\n          \r\n\r\n          \r\n          {apiAction ? \r\n                    <button className=\"btn btn-primary px-4 w-100\"   disabled={apiAction}>\r\n                      <span\r\n                        className=\"spinner-grow spinner-grow-sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                      ></span>\r\n                       Loading...\r\n                    </button> : \r\n                    <CButton onClick={()=>{validateArticle()}} color=\"primary\" size=\"md\" block md=\"12\">{editMode===\"new\" ?\"Publish\":\"Update\"}</CButton>}\r\n\r\n          <ToastMe showToast={toast}  context={ArticleProvider.Context} />\r\n          <ModalMe showToast={modal} />\r\n          \r\n          {/* <a href=\"\" style={Styles.link} id=\"acpb_upload_button_fr\">Set featured image (FR) </a> */}\r\n          </CCardBody>\r\n          </CCard>\r\n\r\n         \r\n         \r\n\r\n\r\n        </CCol>\r\n      </CRow>\r\n\r\n\r\n\r\n      <CRow>\r\n        <CCol md=\"9\">\r\n          <CCard style={Styles.cardStyle}>\r\n            <CCardHeader>\r\n              French\r\n            </CCardHeader>\r\n            <CCardBody>\r\n             <h5>Title (French)</h5>\r\n            < TitleInput actionType=\"fr\" />\r\n            \r\n            <h5>Body (French)</h5>\r\n           \r\n            <RichText actionType=\"fr\"/>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        {/* <CCol md=\"3\">\r\n        <CCard>\r\n        <CCardBody>\r\n        \r\n        </CCardBody>\r\n          </CCard>\r\n        </CCol> */}\r\n        <LoginModal context={ArticleProvider.Context}/>\r\n      </CRow>\r\n\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DashboardUpdatePost\r\n"]},"metadata":{},"sourceType":"module"}