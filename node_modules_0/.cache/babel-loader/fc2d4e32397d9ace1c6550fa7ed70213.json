{"ast":null,"code":"import React,{useEffect,useContext}from'react';import ArticleProvider from\"../context/ArticleContext\";var API_URL=\"http://192.168.43.122:8080/laravel/site40/public/api/v1/\";var PUBLIC_URL=\"http://192.168.43.122:8080/laravel/site40/public/\";var ImageUpload=function ImageUpload(_ref){var postType=_ref.postType,target=_ref.target;var _useContext=useContext(ArticleProvider.Context),updateArticle=_useContext.updateArticle,setFeaturedFor=_useContext.setFeaturedFor,setModal=_useContext.setModal,selectedImageEn=_useContext.selectedImageEn,selectedImageFr=_useContext.selectedImageFr,setSelectedImageEn=_useContext.setSelectedImageEn,setSelectedImageFr=_useContext.setSelectedImageFr;//console.log(\"target\",target)\nvar triggerSelectInput=function triggerSelectInput(e,input,id){e.preventDefault();setFeaturedFor(id);setModal(true);};useEffect(function(){var uploadBt=document.getElementsByClassName(target);console.log(\"target\",target);var uploadInputName=\"modal-upload-bt\";//postType==\"en\" ? \"upload_input_en\" : \"upload_input_fr\"\nvar uploadInput=document.getElementById(uploadInputName);//console.log(\"elements id is \",uploadBt[0].id)\ndocument.addEventListener(\"click\",function(e){if(e.target.tagName=='A'&&e.target.classList.contains(\"acpb_featured_en_remove\")){e.preventDefault();setSelectedImageEn(\"\");updateArticle(\"featured_en\",null);}});document.addEventListener(\"click\",function(e){if(e.target.tagName=='A'&&e.target.classList.contains(\"acpb_featured_fr_remove\")){e.preventDefault();setSelectedImageFr(\"\");updateArticle(\"featured_fr\",null);}});uploadBt[0].addEventListener(\"click\",function(e){return triggerSelectInput(e,uploadInput,uploadBt[0].id);});uploadBt[1].addEventListener(\"click\",function(e){return triggerSelectInput(e,uploadInput,uploadBt[1].id);});},[]);return postType==\"en\"?/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",src:selectedImageEn}):/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",src:selectedImageFr});};export default ImageUpload;","map":{"version":3,"sources":["C:/react/lac/src/Uploaders/image-uploader.js"],"names":["React","useEffect","useContext","ArticleProvider","API_URL","PUBLIC_URL","ImageUpload","postType","target","Context","updateArticle","setFeaturedFor","setModal","selectedImageEn","selectedImageFr","setSelectedImageEn","setSelectedImageFr","triggerSelectInput","e","input","id","preventDefault","uploadBt","document","getElementsByClassName","console","log","uploadInputName","uploadInput","getElementById","addEventListener","tagName","classList","contains"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,UAAxB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,CAGA,GAAMC,CAAAA,OAAO,CAAG,0DAAhB,CAEA,GAAMC,CAAAA,UAAU,CAAG,mDAAnB,CAEA,GAAMC,CAAAA,WAAW,CAAE,QAAbA,CAAAA,WAAa,MAAqB,IAAnBC,CAAAA,QAAmB,MAAnBA,QAAmB,CAAVC,MAAU,MAAVA,MAAU,iBAE8EN,UAAU,CAACC,eAAe,CAACM,OAAjB,CAFxF,CAE/BC,aAF+B,aAE/BA,aAF+B,CAEjBC,cAFiB,aAEjBA,cAFiB,CAEFC,QAFE,aAEFA,QAFE,CAEOC,eAFP,aAEOA,eAFP,CAEuBC,eAFvB,aAEuBA,eAFvB,CAEuCC,kBAFvC,aAEuCA,kBAFvC,CAE0DC,kBAF1D,aAE0DA,kBAF1D,CAIpC;AAEA,GAAMC,CAAAA,kBAAkB,CAAC,QAAnBA,CAAAA,kBAAmB,CAACC,CAAD,CAAGC,KAAH,CAASC,EAAT,CAAc,CACnCF,CAAC,CAACG,cAAF,GACAV,cAAc,CAACS,EAAD,CAAd,CACAR,QAAQ,CAAC,IAAD,CAAR,CACH,CAJD,CAMAX,SAAS,CAAC,UAAI,CACV,GAAMqB,CAAAA,QAAQ,CAACC,QAAQ,CAACC,sBAAT,CAAgChB,MAAhC,CAAf,CACAiB,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAqBlB,MAArB,EACA,GAAMmB,CAAAA,eAAe,CAAC,iBAAtB,CACA;AACA,GAAMC,CAAAA,WAAW,CAACL,QAAQ,CAACM,cAAT,CAAwBF,eAAxB,CAAlB,CACA;AAEAJ,QAAQ,CAACO,gBAAT,CAA0B,OAA1B,CAAkC,SAACZ,CAAD,CAAK,CACrC,GAAIA,CAAC,CAACV,MAAF,CAASuB,OAAT,EAAoB,GAApB,EAA2Bb,CAAC,CAACV,MAAF,CAASwB,SAAT,CAAmBC,QAAnB,CAA4B,yBAA5B,CAA/B,CAAuF,CACrFf,CAAC,CAACG,cAAF,GACAN,kBAAkB,CAAC,EAAD,CAAlB,CACAL,aAAa,CAAC,aAAD,CAAe,IAAf,CAAb,CACD,CACF,CAND,EAUAa,QAAQ,CAACO,gBAAT,CAA0B,OAA1B,CAAkC,SAACZ,CAAD,CAAK,CACrC,GAAIA,CAAC,CAACV,MAAF,CAASuB,OAAT,EAAoB,GAApB,EAA2Bb,CAAC,CAACV,MAAF,CAASwB,SAAT,CAAmBC,QAAnB,CAA4B,yBAA5B,CAA/B,CAAuF,CACrFf,CAAC,CAACG,cAAF,GACAL,kBAAkB,CAAC,EAAD,CAAlB,CACAN,aAAa,CAAC,aAAD,CAAe,IAAf,CAAb,CAED,CACF,CAPD,EAUAY,QAAQ,CAAC,CAAD,CAAR,CAAYQ,gBAAZ,CAA6B,OAA7B,CAAqC,SAACZ,CAAD,QAAKD,CAAAA,kBAAkB,CAACC,CAAD,CAAGU,WAAH,CAAeN,QAAQ,CAAC,CAAD,CAAR,CAAYF,EAA3B,CAAvB,EAArC,EACAE,QAAQ,CAAC,CAAD,CAAR,CAAYQ,gBAAZ,CAA6B,OAA7B,CAAqC,SAACZ,CAAD,QAAKD,CAAAA,kBAAkB,CAACC,CAAD,CAAGU,WAAH,CAAeN,QAAQ,CAAC,CAAD,CAAR,CAAYF,EAA3B,CAAvB,EAArC,EAEH,CA/BQ,CA+BP,EA/BO,CAAT,CAmCA,MAAOb,CAAAA,QAAQ,EAAE,IAAV,cAAiB,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAEM,eAAhC,EAAjB,cAAuE,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAEC,eAAhC,EAA9E,CAGH,CAlDD,CAoDA,cAAeR,CAAAA,WAAf","sourcesContent":["import React,{useEffect,useContext} from 'react'\r\nimport ArticleProvider from \"../context/ArticleContext\"\r\n\r\n\r\nconst API_URL = \"http://192.168.43.122:8080/laravel/site40/public/api/v1/\";\r\n\r\nconst PUBLIC_URL = \"http://192.168.43.122:8080/laravel/site40/public/\";\r\n\r\nconst ImageUpload= ({postType,target})=>{\r\n\r\n  const {updateArticle,setFeaturedFor,setModal,selectedImageEn,selectedImageFr,setSelectedImageEn,setSelectedImageFr}=useContext(ArticleProvider.Context)\r\n\r\n    //console.log(\"target\",target)\r\n\r\n    const triggerSelectInput=(e,input,id)=>{\r\n        e.preventDefault()\r\n        setFeaturedFor(id)\r\n        setModal(true)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const uploadBt=document.getElementsByClassName(target)\r\n        console.log(\"target\",target)\r\n        const uploadInputName=\"modal-upload-bt\"\r\n        //postType==\"en\" ? \"upload_input_en\" : \"upload_input_fr\"\r\n        const uploadInput=document.getElementById(uploadInputName)\r\n        //console.log(\"elements id is \",uploadBt[0].id)\r\n\r\n        document.addEventListener(\"click\",(e)=>{ \r\n          if (e.target.tagName == 'A' && e.target.classList.contains(\"acpb_featured_en_remove\")) {\r\n            e.preventDefault(); \r\n            setSelectedImageEn(\"\")\r\n            updateArticle(\"featured_en\",null)\r\n          }\r\n        })\r\n\r\n\r\n\r\n        document.addEventListener(\"click\",(e)=>{   \r\n          if (e.target.tagName == 'A' && e.target.classList.contains(\"acpb_featured_fr_remove\")) {\r\n            e.preventDefault(); \r\n            setSelectedImageFr(\"\")\r\n            updateArticle(\"featured_fr\",null)\r\n            \r\n          }\r\n        })\r\n\r\n        \r\n        uploadBt[0].addEventListener(\"click\",(e)=>triggerSelectInput(e,uploadInput,uploadBt[0].id))\r\n        uploadBt[1].addEventListener(\"click\",(e)=>triggerSelectInput(e,uploadInput,uploadBt[1].id))\r\n     \r\n    },[])\r\n\r\n    \r\n\r\n    return postType==\"en\" ? <img className=\"img-fluid\" src={selectedImageEn} /> : <img className=\"img-fluid\" src={selectedImageFr} />\r\n        \r\n    \r\n}\r\n\r\nexport default ImageUpload"]},"metadata":{},"sourceType":"module"}