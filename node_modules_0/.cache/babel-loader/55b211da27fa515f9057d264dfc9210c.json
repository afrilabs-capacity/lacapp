{"ast":null,"code":"import _classCallCheck from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport React from 'react';\n\nvar Markme = /*#__PURE__*/function () {\n  _createClass(Markme, [{\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    },\n    set: function set(state) {\n      this._state = state;\n      this.button.classList.toggle(this.api.styles.inlineToolButtonActive, state);\n    }\n  }], [{\n    key: \"isInline\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  function Markme(_ref) {\n    var api = _ref.api;\n\n    _classCallCheck(this, Markme);\n\n    console.log(\"My API\", api);\n    this.api = api;\n    this.button = null;\n    this._state = false;\n    this.tag = 'MARK';\n    this.class = 'cdx-marker';\n  }\n\n  _createClass(Markme, [{\n    key: \"render\",\n    value: function render() {\n      this.button = document.createElement('button');\n      this.button.type = 'button';\n      this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M10.458 12.04l2.919 1.686-.781 1.417-.984-.03-.974 1.687H8.674l1.49-2.583-.508-.775.802-1.401zm.546-.952l3.624-6.327a1.597 1.597 0 0 1 2.182-.59 1.632 1.632 0 0 1 .615 2.201l-3.519 6.391-2.902-1.675zm-7.73 3.467h3.465a1.123 1.123 0 1 1 0 2.247H3.273a1.123 1.123 0 1 1 0-2.247z\"/></svg>'; //this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M15.414 0.586c-0.781-0.781-2.047-0.781-2.828 0l-2.689 2.689-1.896-1.896-2.121 2.121 1.663 1.663-7.377 7.377c-0.126 0.126-0.179 0.296-0.161 0.46h-0.004v2.5c0 0.276 0.224 0.5 0.5 0.5h2.5c0 0 0.042 0 0.063 0 0.144 0 0.288-0.055 0.398-0.165l7.377-7.377 1.663 1.663 2.121-2.121-1.896-1.896 2.689-2.689c0.781-0.781 0.781-2.047 0-2.828zM2.705 15h-1.705v-1.705l7.337-7.337 1.704 1.704-7.337 7.337z\"/></svg>';\n\n      this.button.classList.add(this.api.styles.inlineToolButton);\n      return this.button;\n    }\n  }, {\n    key: \"surround\",\n    value: function surround(range) {\n      if (this.state) {\n        this.unwrap(range);\n        return;\n      }\n\n      this.wrap(range);\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(range) {\n      var selectedText = range.extractContents();\n      console.log(\"range\", selectedText);\n      var mark = document.createElement(this.tag);\n      mark.classList.add(this.class);\n      mark.appendChild(selectedText);\n      range.insertNode(mark);\n      this.api.selection.expandToTag(mark);\n    }\n  }, {\n    key: \"unwrap\",\n    value: function unwrap(range) {\n      var mark = this.api.selection.findParentTag(this.tag, this.class);\n      var text = range.extractContents();\n      mark.remove();\n      range.insertNode(text);\n    }\n  }, {\n    key: \"checkState\",\n    value: function checkState() {\n      var mark = this.api.selection.findParentTag(this.tag);\n      this.state = !!mark;\n    }\n  }]);\n\n  return Markme;\n}();\n\nexport default Markme;","map":{"version":3,"sources":["C:/react/lac/src/api-classes/Markme.js"],"names":["React","Markme","_state","state","button","classList","toggle","api","styles","inlineToolButtonActive","console","log","tag","class","document","createElement","type","innerHTML","add","inlineToolButton","range","unwrap","wrap","selectedText","extractContents","mark","appendChild","insertNode","selection","expandToTag","findParentTag","text","remove"],"mappings":";;AACA,OAAOA,KAAP,MAAkB,OAAlB;;IAEMC,M;;;wBAKY;AACV,aAAO,KAAKC,MAAZ;AACD,K;sBAESC,K,EAAO;AACf,WAAKD,MAAL,GAAcC,KAAd;AAEA,WAAKC,MAAL,CAAYC,SAAZ,CAAsBC,MAAtB,CAA6B,KAAKC,GAAL,CAASC,MAAT,CAAgBC,sBAA7C,EAAqEN,KAArE;AACD;;;wBAZmB;AAClB,aAAO,IAAP;AACD;;;AAYD,wBAAmB;AAAA,QAANI,GAAM,QAANA,GAAM;;AAAA;;AACjBG,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBJ,GAArB;AACA,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKH,MAAL,GAAc,IAAd;AACA,SAAKF,MAAL,GAAc,KAAd;AACA,SAAKU,GAAL,GAAW,MAAX;AACA,SAAKC,KAAL,GAAa,YAAb;AACD;;;;6BAEQ;AACP,WAAKT,MAAL,GAAcU,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACA,WAAKX,MAAL,CAAYY,IAAZ,GAAmB,QAAnB;AACA,WAAKZ,MAAL,CAAYa,SAAZ,GAAwB,oUAAxB,CAHO,CAIP;;AACA,WAAKb,MAAL,CAAYC,SAAZ,CAAsBa,GAAtB,CAA0B,KAAKX,GAAL,CAASC,MAAT,CAAgBW,gBAA1C;AACA,aAAO,KAAKf,MAAZ;AACD;;;6BAEQgB,K,EAAO;AACd,UAAI,KAAKjB,KAAT,EAAgB;AACd,aAAKkB,MAAL,CAAYD,KAAZ;AACA;AACD;;AAED,WAAKE,IAAL,CAAUF,KAAV;AACD;;;yBAEIA,K,EAAO;AACV,UAAMG,YAAY,GAAGH,KAAK,CAACI,eAAN,EAArB;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBY,YAApB;AACA,UAAME,IAAI,GAAGX,QAAQ,CAACC,aAAT,CAAuB,KAAKH,GAA5B,CAAb;AAEAa,MAAAA,IAAI,CAACpB,SAAL,CAAea,GAAf,CAAmB,KAAKL,KAAxB;AACAY,MAAAA,IAAI,CAACC,WAAL,CAAiBH,YAAjB;AACAH,MAAAA,KAAK,CAACO,UAAN,CAAiBF,IAAjB;AAEA,WAAKlB,GAAL,CAASqB,SAAT,CAAmBC,WAAnB,CAA+BJ,IAA/B;AACD;;;2BAEML,K,EAAO;AACZ,UAAMK,IAAI,GAAG,KAAKlB,GAAL,CAASqB,SAAT,CAAmBE,aAAnB,CAAiC,KAAKlB,GAAtC,EAA2C,KAAKC,KAAhD,CAAb;AACA,UAAMkB,IAAI,GAAGX,KAAK,CAACI,eAAN,EAAb;AAEAC,MAAAA,IAAI,CAACO,MAAL;AAEAZ,MAAAA,KAAK,CAACO,UAAN,CAAiBI,IAAjB;AACD;;;iCAGY;AACX,UAAMN,IAAI,GAAG,KAAKlB,GAAL,CAASqB,SAAT,CAAmBE,aAAnB,CAAiC,KAAKlB,GAAtC,CAAb;AAEA,WAAKT,KAAL,GAAa,CAAC,CAACsB,IAAf;AACD;;;;;;AAIP,eAAexB,MAAf","sourcesContent":["\r\nimport React from 'react'\r\n\r\nclass Markme {\r\n    static get isInline() {\r\n        return true;\r\n      }\r\n    \r\n      get state() {\r\n        return this._state;\r\n      }\r\n    \r\n      set state(state) {\r\n        this._state = state;\r\n    \r\n        this.button.classList.toggle(this.api.styles.inlineToolButtonActive, state);\r\n      }\r\n    \r\n      constructor({api}) {\r\n        console.log(\"My API\",api)\r\n        this.api = api;\r\n        this.button = null;\r\n        this._state = false;\r\n        this.tag = 'MARK';\r\n        this.class = 'cdx-marker';\r\n      }\r\n    \r\n      render() {\r\n        this.button = document.createElement('button');\r\n        this.button.type = 'button';\r\n        this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M10.458 12.04l2.919 1.686-.781 1.417-.984-.03-.974 1.687H8.674l1.49-2.583-.508-.775.802-1.401zm.546-.952l3.624-6.327a1.597 1.597 0 0 1 2.182-.59 1.632 1.632 0 0 1 .615 2.201l-3.519 6.391-2.902-1.675zm-7.73 3.467h3.465a1.123 1.123 0 1 1 0 2.247H3.273a1.123 1.123 0 1 1 0-2.247z\"/></svg>';\r\n        //this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M15.414 0.586c-0.781-0.781-2.047-0.781-2.828 0l-2.689 2.689-1.896-1.896-2.121 2.121 1.663 1.663-7.377 7.377c-0.126 0.126-0.179 0.296-0.161 0.46h-0.004v2.5c0 0.276 0.224 0.5 0.5 0.5h2.5c0 0 0.042 0 0.063 0 0.144 0 0.288-0.055 0.398-0.165l7.377-7.377 1.663 1.663 2.121-2.121-1.896-1.896 2.689-2.689c0.781-0.781 0.781-2.047 0-2.828zM2.705 15h-1.705v-1.705l7.337-7.337 1.704 1.704-7.337 7.337z\"/></svg>';\r\n        this.button.classList.add(this.api.styles.inlineToolButton);\r\n        return this.button;\r\n      }\r\n    \r\n      surround(range) {\r\n        if (this.state) {\r\n          this.unwrap(range);\r\n          return;\r\n        }\r\n    \r\n        this.wrap(range);\r\n      }\r\n    \r\n      wrap(range) {\r\n        const selectedText = range.extractContents();\r\n        console.log(\"range\",selectedText)\r\n        const mark = document.createElement(this.tag);\r\n    \r\n        mark.classList.add(this.class);\r\n        mark.appendChild(selectedText);\r\n        range.insertNode(mark);\r\n    \r\n        this.api.selection.expandToTag(mark);\r\n      }\r\n    \r\n      unwrap(range) {\r\n        const mark = this.api.selection.findParentTag(this.tag, this.class);\r\n        const text = range.extractContents();\r\n    \r\n        mark.remove();\r\n    \r\n        range.insertNode(text);\r\n      }\r\n    \r\n    \r\n      checkState() {\r\n        const mark = this.api.selection.findParentTag(this.tag);\r\n    \r\n        this.state = !!mark;\r\n      }\r\n}\r\n\r\n\r\nexport default Markme"]},"metadata":{},"sourceType":"module"}