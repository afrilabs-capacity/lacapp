{"ast":null,"code":"import _toConsumableArray from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\react\\\\lac\\\\src\\\\context\\\\AttendeeContext.js\";\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nvar Context = createContext({});\nvar initialArticle = {\n  id: null,\n  title_en: \"\",\n  body_en: null,\n  featured_en: null,\n  title_fr: \"\",\n  body_fr: null,\n  featured_fr: null,\n  status: \"draft\",\n  category: \"\",\n  created_at: null,\n  updated_at: null\n};\nvar initialEditArticle = {\n  id: null,\n  title_en: \"\",\n  body_en: null,\n  featured_en: null,\n  title_fr: \"\",\n  body_fr: null,\n  featured_fr: null,\n  status: \"draft\",\n  category: \"\",\n  created_at: null,\n  updated_at: null\n};\nvar API_URL = \"http://192.168.43.122:8080/laravel/site40/public/api/v1/\";\n\nvar Provider = function Provider(props) {\n  // Initial values are obtained from the props\n  var errorCount;\n  var children = props.children; // Use State to keep the values \n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      attendee = _useState2[0],\n      setAttendee = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      attendees = _useState4[0],\n      setAttendees = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      excelAttendees = _useState6[0],\n      setExcelAttendees = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pagination = _useState8[0],\n      setPagination = _useState8[1];\n\n  var _useState9 = useState(1),\n      _useState10 = _slicedToArray(_useState9, 2),\n      currentPage = _useState10[0],\n      setCurrentPage = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      searchPhrase = _useState12[0],\n      setSearchPhrase = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      errors = _useState14[0],\n      setErrors = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      fetching = _useState16[0],\n      setFetching = _useState16[1];\n\n  var _useState17 = useState(null),\n      _useState18 = _slicedToArray(_useState17, 2),\n      fetchingFailMsg = _useState18[0],\n      setFetchingFailMsg = _useState18[1]; // const [featuredFor,setFeaturedFor]=useState(\"\")\n\n\n  useEffect(function () {}, []);\n\n  var fetchAttendeeByIdApi = function fetchAttendeeByIdApi(id) {\n    setAttendee({});\n    setFetching(true);\n    setFetchingFailMsg(null);\n    var refsData = []; //alert(\"Hi there man\")\n\n    axios.get(API_URL + \"programmes/attendees/user/\" + id).then(function (response) {\n      console.log(\"fetch attendees\", response.data.data.data);\n      setAttendee(function (prevArticle) {\n        return _objectSpread(_objectSpread({}, prevArticle), response.data.data.data[0]);\n      }); // if(response.data.data.data.refs!==null){\n      //   setAttendee(prevArticle=>{\n      //     return {...prevArticle,refs:response.data.data.data.refs}\n      //   })\n      // }\n      // setPagination(prevArticle=>{\n      //   return {...prevArticle,...response.data.data.data}\n      // })\n\n      setFetching(false);\n      console.log(\"post response all attendees\", response.data.data.data[0]['refs'][0]['name']);\n    }).catch(function (error) {\n      setErrors([]);\n      setFetching(false);\n      error.response !== undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\"); // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\n      // setErrors(prevError=>[...prevError,apiStatus])\n    });\n  };\n\n  var fetchAttendeesByProgrammeIdApi = function fetchAttendeesByProgrammeIdApi(id) {\n    setAttendees([]);\n    setExcelAttendees([]);\n    setFetching(true);\n    setFetchingFailMsg(null); //alert(\"Hi there man\")\n\n    axios.get(API_URL + \"programmes/attendees/\" + id).then(function (response) {\n      // console.log(\"fetch attendees by programme id\",response.data.data.data.excel)\n      setAttendees(function (prevArticle) {\n        return [].concat(_toConsumableArray(prevArticle), _toConsumableArray(response.data.data.data.data));\n      });\n      setExcelAttendees(function (prevArticle) {\n        return [].concat(_toConsumableArray(prevArticle), _toConsumableArray(response.data.data.excel));\n      });\n      setPagination(function (prevArticle) {\n        return _objectSpread(_objectSpread({}, prevArticle), response.data.data.data);\n      });\n      setFetching(false);\n      console.log(\"post response all attendees\", response.data.data.data.data);\n    }).catch(function (error) {\n      setErrors([]);\n      setFetching(false);\n      error.response !== undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\"); //setErrors(prevError=>[...prevError,apiStatus])\n    });\n  };\n\n  var goToPageApi = function goToPageApi(page) {\n    setAttendees([]);\n    setCurrentPage(page);\n    setFetching(true);\n    setFetchingFailMsg(null);\n    axios.get(pagination.path + \"?page=\" + page).then(function (response) {\n      setAttendees(function (prevArticle) {\n        return [].concat(_toConsumableArray(prevArticle), _toConsumableArray(response.data.data.data.data));\n      });\n      setPagination(function (prevArticle) {\n        return _objectSpread(_objectSpread({}, prevArticle), response.data.data.data);\n      });\n      setFetching(false);\n      console.log(\"post response all articles\", response.data.data.data);\n    }).catch(function (error) {\n      setErrors([]);\n      setFetching(false);\n      error.response !== undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\"); // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\n      // setErrors(prevError=>[...prevError,apiStatus])\n    });\n  };\n\n  var searchAttendeesByPhraseApi = function searchAttendeesByPhraseApi() {\n    setAttendees([]);\n    setFetching(true);\n    setFetchingFailMsg(null);\n    axios.get(API_URL + \"programmes/attendees/search/\" + searchPhrase).then(function (response) {\n      setAttendees(function (prevArticle) {\n        return [].concat(_toConsumableArray(prevArticle), _toConsumableArray(response.data.data.data.data));\n      });\n      setPagination(function (prevArticle) {\n        return _objectSpread(_objectSpread({}, prevArticle), response.data.data.data);\n      });\n      setFetching(false);\n      console.log(\"get response\", response.data.data.data); //console.log(\"all articles\",articles)\n    }).catch(function (error) {\n      setErrors([]);\n      setFetching(false);\n      error.response !== undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\"); // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\n      // setErrors(prevError=>[...prevError,apiStatus])\n    });\n  };\n\n  var articleContext = {\n    attendees: attendees,\n    attendee: attendee,\n    fetchAttendeesByProgrammeIdApi: fetchAttendeesByProgrammeIdApi,\n    fetchAttendeeByIdApi: fetchAttendeeByIdApi,\n    pagination: pagination,\n    goToPageApi: goToPageApi,\n    currentPage: currentPage,\n    searchPhrase: searchPhrase,\n    setSearchPhrase: setSearchPhrase,\n    searchAttendeesByPhraseApi: searchAttendeesByPhraseApi,\n    excelAttendees: excelAttendees,\n    fetching: fetching,\n    fetchingFailMsg: fetchingFailMsg\n  }; // pass the value in provider and return\n\n  return /*#__PURE__*/React.createElement(Context.Provider, Object.assign({\n    value: articleContext\n  }, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 10\n    }\n  }), children);\n};\n\nvar AttendeeProvider = {\n  Provider: Provider,\n  Context: Context\n}; // Provider.propTypes = {\n//     article:PropTypes.object,  \n// };\n// Provider.defaultProps = {\n//   article: {\n//     title_en: \"\",\n//     body_en: null,\n//     featured_en:null,\n//     title_fr: \"\",\n//     body_fr: null,\n//     featured_fr:null,\n//     status:\"draft\"\n//   },\n// };\n\nexport default AttendeeProvider;","map":{"version":3,"sources":["C:/react/lac/src/context/AttendeeContext.js"],"names":["React","createContext","useState","useEffect","useHistory","useLocation","useParams","PropTypes","axios","Context","initialArticle","id","title_en","body_en","featured_en","title_fr","body_fr","featured_fr","status","category","created_at","updated_at","initialEditArticle","API_URL","Provider","props","errorCount","children","attendee","setAttendee","attendees","setAttendees","excelAttendees","setExcelAttendees","pagination","setPagination","currentPage","setCurrentPage","searchPhrase","setSearchPhrase","errors","setErrors","fetching","setFetching","fetchingFailMsg","setFetchingFailMsg","fetchAttendeeByIdApi","refsData","get","then","response","console","log","data","prevArticle","catch","error","undefined","fetchAttendeesByProgrammeIdApi","excel","goToPageApi","page","path","searchAttendeesByPhraseApi","articleContext","AttendeeProvider"],"mappings":"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","sourcesContent":["import React, { createContext, useState,useEffect} from \"react\";\r\nimport { useHistory,useLocation,useParams } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\"\r\n\r\nconst Context = createContext({});\r\n\r\nconst initialArticle={\r\n    id:null,\r\n    title_en: \"\",\r\n    body_en: null,\r\n    featured_en:null,\r\n    title_fr: \"\",\r\n    body_fr: null,\r\n    featured_fr:null,\r\n    status:\"draft\",\r\n    category:\"\",\r\n    created_at:null,\r\n    updated_at:null\r\n}\r\n\r\n\r\nconst initialEditArticle={\r\n id:null,\r\n title_en: \"\",\r\n body_en: null,\r\n featured_en:null,\r\n title_fr: \"\",\r\n body_fr: null,\r\n featured_fr:null,\r\n status:\"draft\",\r\n category:\"\",\r\n created_at:null,\r\n updated_at:null\r\n}\r\n\r\n\r\nconst API_URL = \"http://192.168.43.122:8080/laravel/site40/public/api/v1/\";\r\n\r\n const Provider = props => {\r\n  // Initial values are obtained from the props\r\n\r\nlet errorCount\r\n \r\n  const {\r\n    // article:initialArticle,\r\n    children\r\n  } = props;\r\n\r\n  // Use State to keep the values \r\n  const [attendee,setAttendee] =useState({})\r\n  const [attendees,setAttendees] = useState([]);\r\n  const [excelAttendees,setExcelAttendees] = useState([]);\r\n  const [pagination,setPagination] = useState({});\r\n  const [currentPage,setCurrentPage]=useState(1)\r\n  const [searchPhrase,setSearchPhrase]=useState(\"\")\r\n  const [errors,setErrors]=useState([])\r\n  const [fetching,setFetching]=useState(false)\r\n  const [fetchingFailMsg,setFetchingFailMsg]=useState(null)\r\n\r\n// const [featuredFor,setFeaturedFor]=useState(\"\")\r\n  useEffect(()=>{\r\n\r\n  },[])\r\n  \r\n\r\n  const fetchAttendeeByIdApi =(id)=>{\r\n    setAttendee({})\r\n    setFetching(true)\r\n    setFetchingFailMsg(null)\r\n    let refsData=[]\r\n    //alert(\"Hi there man\")\r\n      axios.get( API_URL+\"programmes/attendees/user/\"+id).then (response => {\r\n\r\n      console.log(\"fetch attendees\",response.data.data.data)\r\n      setAttendee(prevArticle=>{\r\n        return {...prevArticle,...response.data.data.data[0]}\r\n      })\r\n\r\n      // if(response.data.data.data.refs!==null){\r\n        \r\n      //   setAttendee(prevArticle=>{\r\n      //     return {...prevArticle,refs:response.data.data.data.refs}\r\n      //   })\r\n      // }\r\n\r\n      // setPagination(prevArticle=>{\r\n      //   return {...prevArticle,...response.data.data.data}\r\n      // })\r\n      \r\n      setFetching(false)\r\n      console.log(\"post response all attendees\",response.data.data.data[0]['refs'][0]['name'])\r\n    }).catch(error => {\r\n      setErrors([])\r\n      setFetching(false)\r\n      error.response!==undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\")\r\n      // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\r\n      // setErrors(prevError=>[...prevError,apiStatus])\r\n      \r\n  });\r\n\r\n  }\r\n\r\n\r\n  const fetchAttendeesByProgrammeIdApi =(id)=>{\r\n    setAttendees([])\r\n    setExcelAttendees([])\r\n    setFetching(true)\r\n    setFetchingFailMsg(null)\r\n\r\n    //alert(\"Hi there man\")\r\n\r\n    axios.get( API_URL+\"programmes/attendees/\"+id).then (response => {\r\n\r\n      // console.log(\"fetch attendees by programme id\",response.data.data.data.excel)\r\n      setAttendees(prevArticle=>{\r\n        return [...prevArticle,...response.data.data.data.data]\r\n      })\r\n\r\n      setExcelAttendees(prevArticle=>{\r\n        return [...prevArticle,...response.data.data.excel]\r\n      })\r\n\r\n      setPagination(prevArticle=>{\r\n        return {...prevArticle,...response.data.data.data}\r\n      })\r\n      \r\n      setFetching(false)\r\n      console.log(\"post response all attendees\",response.data.data.data.data)\r\n    }).catch(error => {\r\n      setErrors([])\r\n      setFetching(false)\r\n      error.response!==undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\")\r\n        \r\n      //setErrors(prevError=>[...prevError,apiStatus])\r\n     \r\n      \r\n  });\r\n\r\n  }\r\n\r\n\r\n  const goToPageApi =(page)=>{\r\n    setAttendees([])\r\n    setCurrentPage(page)\r\n    setFetching(true)\r\n    setFetchingFailMsg(null)\r\n\r\n    axios.get( pagination.path+\"?page=\"+page).then (response => {\r\n      setAttendees(prevArticle=>{\r\n        return [...prevArticle,...response.data.data.data.data]\r\n      })\r\n\r\n      setPagination(prevArticle=>{\r\n        return {...prevArticle,...response.data.data.data}\r\n      })\r\n      \r\n      setFetching(false)\r\n      console.log(\"post response all articles\",response.data.data.data)\r\n    }).catch(error => {\r\n      setErrors([])\r\n      setFetching(false)\r\n      error.response!==undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\")\r\n      // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\r\n      // setErrors(prevError=>[...prevError,apiStatus])\r\n      \r\n  });\r\n\r\n  }\r\n\r\n\r\n  const searchAttendeesByPhraseApi =()=>{\r\n    \r\n    setAttendees([])\r\n    setFetching(true)\r\n    setFetchingFailMsg(null)\r\n\r\n    axios.get( API_URL+\"programmes/attendees/search/\"+searchPhrase).then (response => {\r\n\r\n      \r\n      setAttendees(prevArticle=>{\r\n        return [...prevArticle,...response.data.data.data.data]\r\n      })\r\n\r\n      setPagination(prevArticle=>{\r\n        return {...prevArticle,...response.data.data.data}\r\n      })\r\n      \r\n      setFetching(false)\r\n      console.log(\"get response\",response.data.data.data)\r\n      //console.log(\"all articles\",articles)\r\n    }).catch(error => {\r\n      setErrors([])\r\n      setFetching(false)\r\n      error.response!==undefined ? setFetchingFailMsg(\"No attendeed found\") : setFetchingFailMsg(\"Unknown error\")\r\n      // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\r\n      // setErrors(prevError=>[...prevError,apiStatus])\r\n      \r\n  });\r\n\r\n  }\r\n\r\n\r\n  const articleContext = {\r\n    attendees,\r\n    attendee,\r\n    fetchAttendeesByProgrammeIdApi,\r\n    fetchAttendeeByIdApi,\r\n    pagination,\r\n    goToPageApi,\r\n    currentPage,\r\n    searchPhrase,\r\n    setSearchPhrase,\r\n    searchAttendeesByPhraseApi,\r\n    excelAttendees,\r\n    fetching,\r\n    fetchingFailMsg\r\n \r\n  };\r\n\r\n  // pass the value in provider and return\r\n  return <Context.Provider value={articleContext}  {...props}>{children }</Context.Provider>;\r\n};\r\n\r\n\r\nconst AttendeeProvider= {\r\n    Provider,\r\n    Context\r\n};\r\n\r\n// Provider.propTypes = {\r\n//     article:PropTypes.object,  \r\n// };\r\n\r\n// Provider.defaultProps = {\r\n//   article: {\r\n//     title_en: \"\",\r\n//     body_en: null,\r\n//     featured_en:null,\r\n//     title_fr: \"\",\r\n//     body_fr: null,\r\n//     featured_fr:null,\r\n//     status:\"draft\"\r\n//   },\r\n\r\n\r\n// };\r\n\r\n\r\nexport default AttendeeProvider"]},"metadata":{},"sourceType":"module"}