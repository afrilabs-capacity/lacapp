{"ast":null,"code":"import _classCallCheck from\"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";var Paragraph=/*#__PURE__*/function(){_createClass(Paragraph,null,[{key:\"DEFAULT_PLACEHOLDER\",/*\r\nDefault placeholder for Paragraph Tool\r\n@return {string}\r\n@constructor\r\n*/get:function get(){return'';}/**\r\n\r\nRender plugin`s main Element and fill it with saved data\r\n@param {object} params - constructor params\r\n@param {ParagraphData} params.data - previously saved data\r\n@param {ParagraphConfig} params.config - user config for Tool\r\n@param {object} params.api - editor.js api\r\n*/}]);function Paragraph(_ref){var data=_ref.data,config=_ref.config,api=_ref.api;_classCallCheck(this,Paragraph);this.api=api;this._CSS={block:this.api.styles.block,wrapper:'ce-paragraph'};this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,/**\r\n   * Tool's classes\r\n   */imageHolder:'utd-image__picture',caption:'utd-image__caption',link:'utd-image__link'};this.onKeyUp=this.onKeyUp.bind(this);/**\r\n * Placeholder for paragraph if it is first Block\r\n * @type {string}\r\n */this._placeholder=config.placeholder?config.placeholder:Paragraph.DEFAULT_PLACEHOLDER;this._data={};this._element=this.drawView(data);this._preserveBlank=config.preserveBlank!==undefined?config.preserveBlank:false;this.data=data;this.settings=[{name:'text-left',icon:\"<svg class=\\\"svg-icon\\\" viewBox=\\\"0 0 20 20\\\">\\n    <path fill=\\\"none\\\" d=\\\"M1.683,3.39h16.676C18.713,3.39,19,3.103,19,2.749s-0.287-0.642-0.642-0.642H1.683\\n    c-0.354,0-0.641,0.287-0.641,0.642S1.328,3.39,1.683,3.39z M1.683,7.879h11.545c0.354,0,0.642-0.287,0.642-0.641\\n    s-0.287-0.642-0.642-0.642H1.683c-0.354,0-0.641,0.287-0.641,0.642S1.328,7.879,1.683,7.879z M18.358,11.087H1.683\\n    c-0.354,0-0.641,0.286-0.641,0.641s0.287,0.642,0.641,0.642h16.676c0.354,0,0.642-0.287,0.642-0.642S18.713,11.087,18.358,11.087z\\n     M11.304,15.576H1.683c-0.354,0-0.641,0.287-0.641,0.642s0.287,0.641,0.641,0.641h9.621c0.354,0,0.642-0.286,0.642-0.641\\n    S11.657,15.576,11.304,15.576z\\\"></path>\\n      </svg>\"},{name:'text-center',icon:\"<svg class=\\\"svg-icon\\\" viewBox=\\\"0 0 20 20\\\">\\n    <path fill=\\\"none\\\" d=\\\"M1.686,3.327h16.754c0.356,0,0.645-0.288,0.645-0.644c0-0.356-0.288-0.645-0.645-0.645H1.686\\n        c-0.356,0-0.644,0.288-0.644,0.645C1.042,3.039,1.33,3.327,1.686,3.327z M4.263,6.549c-0.356,0-0.644,0.288-0.644,0.645\\n        c0,0.356,0.288,0.644,0.644,0.644h11.599c0.356,0,0.645-0.288,0.645-0.644c0-0.356-0.288-0.645-0.645-0.645H4.263z M18.439,11.06\\n        H1.686c-0.356,0-0.644,0.288-0.644,0.644c0,0.356,0.288,0.645,0.644,0.645h16.754c0.356,0,0.645-0.288,0.645-0.645\\n        C19.084,11.348,18.796,11.06,18.439,11.06z M15.218,15.57H5.552c-0.356,0-0.645,0.288-0.645,0.645c0,0.355,0.289,0.644,0.645,0.644\\n        h9.666c0.355,0,0.645-0.288,0.645-0.644C15.862,15.858,15.573,15.57,15.218,15.57z\\\"></path>\\n</svg>\"},{name:'text-right',icon:\"<svg class=\\\"svg-icon\\\" viewBox=\\\"0 0 20 20\\\">\\n    <path fill=\\\"none\\\" d=\\\"M1.321,3.417h17.024C18.707,3.417,19,3.124,19,2.762c0-0.362-0.293-0.655-0.654-0.655H1.321\\n        c-0.362,0-0.655,0.293-0.655,0.655C0.667,3.124,0.959,3.417,1.321,3.417z M18.346,15.857H8.523c-0.361,0-0.655,0.293-0.655,0.654\\n        c0,0.362,0.293,0.655,0.655,0.655h9.822c0.361,0,0.654-0.293,0.654-0.655C19,16.15,18.707,15.857,18.346,15.857z M18.346,11.274\\n        H1.321c-0.362,0-0.655,0.292-0.655,0.654s0.292,0.654,0.655,0.654h17.024c0.361,0,0.654-0.292,0.654-0.654\\n        S18.707,11.274,18.346,11.274z M18.346,6.69H6.56c-0.362,0-0.655,0.293-0.655,0.655C5.904,7.708,6.198,8,6.56,8h11.786\\n        C18.707,8,19,7.708,19,7.345C19,6.983,18.707,6.69,18.346,6.69z\\\"></path>\\n</svg>\"}];}_createClass(Paragraph,[{key:\"renderSettings\",value:function renderSettings(){var _this=this;var wrapper=document.createElement('div');this.settings.forEach(function(tune){var el=document.createElement('div');el.classList.add(_this.CSS.settingsButton);el.innerHTML=tune.icon;el.addEventListener('click',function(){_this._toggleTune(tune.name);});el.classList.toggle(!_this.CSS.settingsButtonActive,_this.data[tune.name]);wrapper.appendChild(el);});return wrapper;}/**\r\n\r\nCheck if text content is empty and set empty string to inner html.\r\nWe need this because some browsers (e.g. Safari) insert\r\ninto empty contenteditanle elements\r\n@param {KeyboardEvent} e - key up event\r\n*/},{key:\"onKeyUp\",value:function onKeyUp(e){if(e.code!=='Backspace'&&e.code!=='Delete'){return;}var textContent=this._element.textContent;if(textContent===''){this._element.innerHTML='';}}/**\r\n\r\nCreate Tool's view\r\n@return {HTMLElement}\r\n@Private\r\n*/},{key:\"drawView\",value:function drawView(data){var c=data.class?data.class:'';var div=document.createElement('DIV');div.classList.add(this._CSS.wrapper,this._CSS.block);if(c){div.classList.add(c);}div.contentEditable=true;div.dataset.placeholder=this.api.i18n.t(this._placeholder);div.addEventListener('keyup',this.onKeyUp);return div;}/**\r\n\r\nReturn Tool's view\r\n@returns {HTMLDivElement}\r\n@public\r\n*/},{key:\"render\",value:function render(){return this._element;}/**\r\n\r\nMethod that specified how to merge two Text blocks.\r\nCalled by Editor.js by backspace at the beginning of the Block\r\n@param {ParagraphData} data\r\n@public\r\n*/},{key:\"merge\",value:function merge(data){var newData={text:this.data.text+data.text,class:this.data.class};this.data=newData;}/**\r\n\r\nValidate Paragraph block data:\r\ncheck for emptiness\r\n@param {ParagraphData} savedData — data received after saving\r\n@returns {boolean} false if saved data is not correct, otherwise true\r\n@public\r\n*/},{key:\"validate\",value:function validate(savedData){if(savedData.text.trim()===''&&!this._preserveBlank){return false;}return true;}/**\r\n\r\nExtract Tool's data from the view\r\n@param {HTMLDivElement} toolsContent - Paragraph tools rendered view\r\n@returns {ParagraphData} - saved data\r\n@public\r\n*/},{key:\"save\",value:function save(toolsContent){return{text:toolsContent.innerHTML,class:toolsContent.classList[2]};}/**\r\n\r\nOn paste callback fired from Editor.\r\n@param {PasteEvent} event - event with pasted data\r\n*/},{key:\"onPaste\",value:function onPaste(event){var data={text:event.detail.data.innerHTML};this.data=data;}/**\r\n\r\nEnable Conversion Toolbar. Paragraph can be converted to/from other tools\r\n*/},{key:\"_toggleTune\",//Click on the Settings Button\n//@Private\nvalue:function _toggleTune(tune){this.data[tune]=!this.data[tune];this._element.classList=\"\".concat(this._CSS.wrapper,\" \").concat(this._CSS.block,\" \").concat(tune);}//Icon and title for displaying at the Toolbox\n//@return {{icon: string, title: string}}\n},{key:\"data\",/**\r\n\r\nGet current Tools`s data\r\n@returns {ParagraphData} Current data\r\n@Private\r\n*/get:function get(){var text=this._element.innerHTML;var c=this._element.classList;this._data.text=text;this._data.class=c[2];return this._data;}/**\r\n\r\nStore data in plugin:\r\nat the this._data property\r\nat the HTML\r\n@param {ParagraphData} data — data to set\r\n@Private\r\n*/,set:function set(data){this._data=data||{};this._element.innerHTML=this._data.text||'';// this._element.classList = this._data.class\n}/**\r\n\r\nUsed by Editor paste handling API.\r\nProvides configuration to handle P tags.\r\n@returns {{tags: string[]}}\r\n*/}],[{key:\"conversionConfig\",get:function get(){return{export:'text',// to convert Paragraph to other block, use 'text' property of saved data\nimport:'text'// to covert other block's exported string to Paragraph, fill 'text' property of tool data\n};}/**\r\n\r\nSanitizer rules\r\n*/},{key:\"sanitize\",get:function get(){return{text:{br:true}};}},{key:\"pasteConfig\",get:function get(){return{tags:['P']};}},{key:\"toolbox\",get:function get(){return{icon:'<svg width=\"20\" height=\"18\"><path d=\"M10.458 12.04l2.919 1.686-.781 1.417-.984-.03-.974 1.687H8.674l1.49-2.583-.508-.775.802-1.401zm.546-.952l3.624-6.327a1.597 1.597 0 0 1 2.182-.59 1.632 1.632 0 0 1 .615 2.201l-3.519 6.391-2.902-1.675zm-7.73 3.467h3.465a1.123 1.123 0 1 1 0 2.247H3.273a1.123 1.123 0 1 1 0-2.247z\"/></svg>',//this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M15.414 0.586c-0.781-0.781-2.047-0.781-2.828 0l-2.689 2.689-1.896-1.896-2.121 2.121 1.663 1.663-7.377 7.377c-0.126 0.126-0.179 0.296-0.161 0.46h-0.004v2.5c0 0.276 0.224 0.5 0.5 0.5h2.5c0 0 0.042 0 0.063 0 0.144 0 0.288-0.055 0.398-0.165l7.377-7.377 1.663 1.663 2.121-2.121-1.896-1.896 2.689-2.689c0.781-0.781 0.781-2.047 0-2.828zM2.705 15h-1.705v-1.705l7.337-7.337 1.704 1.704-7.337 7.337z\"/></svg>,\ntitle:'Text'};}}]);return Paragraph;}();export default Paragraph;","map":{"version":3,"sources":["C:/react/lac/src/api-classes/Paragraph.js"],"names":["Paragraph","data","config","api","_CSS","block","styles","wrapper","CSS","baseClass","loading","loader","input","settingsButton","settingsButtonActive","imageHolder","caption","link","onKeyUp","bind","_placeholder","placeholder","DEFAULT_PLACEHOLDER","_data","_element","drawView","_preserveBlank","preserveBlank","undefined","settings","name","icon","document","createElement","forEach","tune","el","classList","add","innerHTML","addEventListener","_toggleTune","toggle","appendChild","e","code","textContent","c","class","div","contentEditable","dataset","i18n","t","newData","text","savedData","trim","toolsContent","event","detail","export","import","br","tags","title"],"mappings":"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","sourcesContent":["\r\nclass Paragraph {\r\n/*\r\nDefault placeholder for Paragraph Tool\r\n@return {string}\r\n@constructor\r\n*/\r\nstatic get DEFAULT_PLACEHOLDER() {\r\nreturn ''\r\n}\r\n/**\r\n\r\nRender plugin`s main Element and fill it with saved data\r\n@param {object} params - constructor params\r\n@param {ParagraphData} params.data - previously saved data\r\n@param {ParagraphConfig} params.config - user config for Tool\r\n@param {object} params.api - editor.js api\r\n*/\r\nconstructor({ data, config, api }) {\r\nthis.api = api\r\nthis._CSS = {\r\n  block: this.api.styles.block,\r\n  wrapper: 'ce-paragraph',\r\n}\r\nthis.CSS = {\r\n  baseClass: this.api.styles.block,\r\n  loading: this.api.styles.loader,\r\n  input: this.api.styles.input,\r\n  settingsButton: this.api.styles.settingsButton,\r\n  settingsButtonActive: this.api.styles.settingsButtonActive,\r\n\r\n  /**\r\n   * Tool's classes\r\n   */\r\n  imageHolder: 'utd-image__picture',\r\n  caption: 'utd-image__caption',\r\n  link: 'utd-image__link',\r\n}\r\n\r\nthis.onKeyUp = this.onKeyUp.bind(this)\r\n\r\n/**\r\n * Placeholder for paragraph if it is first Block\r\n * @type {string}\r\n */\r\nthis._placeholder = config.placeholder ? config.placeholder : Paragraph.DEFAULT_PLACEHOLDER\r\nthis._data = {}\r\nthis._element = this.drawView(data)\r\nthis._preserveBlank = config.preserveBlank !== undefined ? config.preserveBlank : false\r\n\r\nthis.data = data\r\n\r\nthis.settings = [\r\n  {\r\n    name: 'text-left',\r\n    icon: `<svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\r\n    <path fill=\"none\" d=\"M1.683,3.39h16.676C18.713,3.39,19,3.103,19,2.749s-0.287-0.642-0.642-0.642H1.683\r\n    c-0.354,0-0.641,0.287-0.641,0.642S1.328,3.39,1.683,3.39z M1.683,7.879h11.545c0.354,0,0.642-0.287,0.642-0.641\r\n    s-0.287-0.642-0.642-0.642H1.683c-0.354,0-0.641,0.287-0.641,0.642S1.328,7.879,1.683,7.879z M18.358,11.087H1.683\r\n    c-0.354,0-0.641,0.286-0.641,0.641s0.287,0.642,0.641,0.642h16.676c0.354,0,0.642-0.287,0.642-0.642S18.713,11.087,18.358,11.087z\r\n     M11.304,15.576H1.683c-0.354,0-0.641,0.287-0.641,0.642s0.287,0.641,0.641,0.641h9.621c0.354,0,0.642-0.286,0.642-0.641\r\n    S11.657,15.576,11.304,15.576z\"></path>\r\n      </svg>`,\r\n  },\r\n  {\r\n    name: 'text-center',\r\n    icon: `<svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\r\n    <path fill=\"none\" d=\"M1.686,3.327h16.754c0.356,0,0.645-0.288,0.645-0.644c0-0.356-0.288-0.645-0.645-0.645H1.686\r\n        c-0.356,0-0.644,0.288-0.644,0.645C1.042,3.039,1.33,3.327,1.686,3.327z M4.263,6.549c-0.356,0-0.644,0.288-0.644,0.645\r\n        c0,0.356,0.288,0.644,0.644,0.644h11.599c0.356,0,0.645-0.288,0.645-0.644c0-0.356-0.288-0.645-0.645-0.645H4.263z M18.439,11.06\r\n        H1.686c-0.356,0-0.644,0.288-0.644,0.644c0,0.356,0.288,0.645,0.644,0.645h16.754c0.356,0,0.645-0.288,0.645-0.645\r\n        C19.084,11.348,18.796,11.06,18.439,11.06z M15.218,15.57H5.552c-0.356,0-0.645,0.288-0.645,0.645c0,0.355,0.289,0.644,0.645,0.644\r\n        h9.666c0.355,0,0.645-0.288,0.645-0.644C15.862,15.858,15.573,15.57,15.218,15.57z\"></path>\r\n</svg>`,\r\n  },\r\n  {\r\n    name: 'text-right',\r\n    icon: `<svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\r\n    <path fill=\"none\" d=\"M1.321,3.417h17.024C18.707,3.417,19,3.124,19,2.762c0-0.362-0.293-0.655-0.654-0.655H1.321\r\n        c-0.362,0-0.655,0.293-0.655,0.655C0.667,3.124,0.959,3.417,1.321,3.417z M18.346,15.857H8.523c-0.361,0-0.655,0.293-0.655,0.654\r\n        c0,0.362,0.293,0.655,0.655,0.655h9.822c0.361,0,0.654-0.293,0.654-0.655C19,16.15,18.707,15.857,18.346,15.857z M18.346,11.274\r\n        H1.321c-0.362,0-0.655,0.292-0.655,0.654s0.292,0.654,0.655,0.654h17.024c0.361,0,0.654-0.292,0.654-0.654\r\n        S18.707,11.274,18.346,11.274z M18.346,6.69H6.56c-0.362,0-0.655,0.293-0.655,0.655C5.904,7.708,6.198,8,6.56,8h11.786\r\n        C18.707,8,19,7.708,19,7.345C19,6.983,18.707,6.69,18.346,6.69z\"></path>\r\n</svg>`,\r\n  },\r\n]\r\n}\r\n\r\nrenderSettings() {\r\nlet wrapper = document.createElement('div')\r\n\r\nthis.settings.forEach(tune => {\r\n  let el = document.createElement('div')\r\n\r\n  el.classList.add(this.CSS.settingsButton)\r\n  el.innerHTML = tune.icon\r\n\r\n  el.addEventListener('click', () => {\r\n    this._toggleTune(tune.name)\r\n  })\r\n\r\n  el.classList.toggle(!this.CSS.settingsButtonActive, this.data[tune.name])\r\n  wrapper.appendChild(el)\r\n})\r\nreturn wrapper\r\n}\r\n\r\n/**\r\n\r\nCheck if text content is empty and set empty string to inner html.\r\nWe need this because some browsers (e.g. Safari) insert\r\ninto empty contenteditanle elements\r\n@param {KeyboardEvent} e - key up event\r\n*/\r\nonKeyUp(e) {\r\nif (e.code !== 'Backspace' && e.code !== 'Delete') {\r\nreturn\r\n}\r\nconst { textContent } = this._element\r\n\r\nif (textContent === '') {\r\n  this._element.innerHTML = ''\r\n}\r\n}\r\n\r\n/**\r\n\r\nCreate Tool's view\r\n@return {HTMLElement}\r\n@Private\r\n*/\r\ndrawView(data) {\r\nlet c = data.class ? data.class : ''\r\nlet div = document.createElement('DIV')\r\ndiv.classList.add(this._CSS.wrapper, this._CSS.block)\r\nif (c) {\r\ndiv.classList.add(c)\r\n}\r\ndiv.contentEditable = true\r\ndiv.dataset.placeholder = this.api.i18n.t(this._placeholder)\r\n\r\ndiv.addEventListener('keyup', this.onKeyUp)\r\n\r\nreturn div\r\n}\r\n\r\n/**\r\n\r\nReturn Tool's view\r\n@returns {HTMLDivElement}\r\n@public\r\n*/\r\nrender() {\r\nreturn this._element\r\n}\r\n/**\r\n\r\nMethod that specified how to merge two Text blocks.\r\nCalled by Editor.js by backspace at the beginning of the Block\r\n@param {ParagraphData} data\r\n@public\r\n*/\r\nmerge(data) {\r\nlet newData = {\r\ntext: this.data.text + data.text,\r\nclass: this.data.class,\r\n}\r\nthis.data = newData\r\n}\r\n\r\n/**\r\n\r\nValidate Paragraph block data:\r\ncheck for emptiness\r\n@param {ParagraphData} savedData — data received after saving\r\n@returns {boolean} false if saved data is not correct, otherwise true\r\n@public\r\n*/\r\nvalidate(savedData) {\r\nif (savedData.text.trim() === '' && !this._preserveBlank) {\r\nreturn false\r\n}\r\nreturn true\r\n}\r\n\r\n/**\r\n\r\nExtract Tool's data from the view\r\n@param {HTMLDivElement} toolsContent - Paragraph tools rendered view\r\n@returns {ParagraphData} - saved data\r\n@public\r\n*/\r\nsave(toolsContent) {\r\nreturn {\r\ntext: toolsContent.innerHTML,\r\nclass: toolsContent.classList[2],\r\n}\r\n}\r\n/**\r\n\r\nOn paste callback fired from Editor.\r\n@param {PasteEvent} event - event with pasted data\r\n*/\r\nonPaste(event) {\r\nconst data = {\r\ntext: event.detail.data.innerHTML,\r\n}\r\nthis.data = data\r\n}\r\n\r\n/**\r\n\r\nEnable Conversion Toolbar. Paragraph can be converted to/from other tools\r\n*/\r\nstatic get conversionConfig() {\r\nreturn {\r\nexport: 'text', // to convert Paragraph to other block, use 'text' property of saved data\r\nimport: 'text', // to covert other block's exported string to Paragraph, fill 'text' property of tool data\r\n}\r\n}\r\n/**\r\n\r\nSanitizer rules\r\n*/\r\nstatic get sanitize() {\r\nreturn {\r\ntext: {\r\nbr: true,\r\n},\r\n}\r\n}\r\n/**\r\n\r\nGet current Tools`s data\r\n@returns {ParagraphData} Current data\r\n@Private\r\n*/\r\nget data() {\r\nlet text = this._element.innerHTML\r\nlet c = this._element.classList\r\nthis._data.text = text\r\nthis._data.class = c[2]\r\n\r\nreturn this._data\r\n}\r\n\r\n/**\r\n\r\nStore data in plugin:\r\nat the this._data property\r\nat the HTML\r\n@param {ParagraphData} data — data to set\r\n@Private\r\n*/\r\nset data(data) {\r\nthis._data = data || {}\r\nthis._element.innerHTML = this._data.text || ''\r\n// this._element.classList = this._data.class\r\n}\r\n\r\n/**\r\n\r\nUsed by Editor paste handling API.\r\nProvides configuration to handle P tags.\r\n@returns {{tags: string[]}}\r\n*/\r\nstatic get pasteConfig() {\r\nreturn {\r\ntags: ['P'],\r\n}\r\n}\r\n\r\n\r\n//Click on the Settings Button\r\n//@Private\r\n\r\n_toggleTune(tune) {\r\nthis.data[tune] = !this.data[tune]\r\nthis._element.classList = `${this._CSS.wrapper} ${this._CSS.block} ${tune}`\r\n}\r\n\r\n//Icon and title for displaying at the Toolbox\r\n//@return {{icon: string, title: string}}\r\n\r\nstatic get toolbox() {\r\nreturn {\r\nicon: '<svg width=\"20\" height=\"18\"><path d=\"M10.458 12.04l2.919 1.686-.781 1.417-.984-.03-.974 1.687H8.674l1.49-2.583-.508-.775.802-1.401zm.546-.952l3.624-6.327a1.597 1.597 0 0 1 2.182-.59 1.632 1.632 0 0 1 .615 2.201l-3.519 6.391-2.902-1.675zm-7.73 3.467h3.465a1.123 1.123 0 1 1 0 2.247H3.273a1.123 1.123 0 1 1 0-2.247z\"/></svg>',\r\n//this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M15.414 0.586c-0.781-0.781-2.047-0.781-2.828 0l-2.689 2.689-1.896-1.896-2.121 2.121 1.663 1.663-7.377 7.377c-0.126 0.126-0.179 0.296-0.161 0.46h-0.004v2.5c0 0.276 0.224 0.5 0.5 0.5h2.5c0 0 0.042 0 0.063 0 0.144 0 0.288-0.055 0.398-0.165l7.377-7.377 1.663 1.663 2.121-2.121-1.896-1.896 2.689-2.689c0.781-0.781 0.781-2.047 0-2.828zM2.705 15h-1.705v-1.705l7.337-7.337 1.704 1.704-7.337 7.337z\"/></svg>,\r\ntitle: 'Text',\r\n}\r\n}\r\n}\r\nexport default Paragraph"]},"metadata":{},"sourceType":"module"}