{"ast":null,"code":"import _toConsumableArray from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\react\\\\lac\\\\src\\\\context\\\\ArticleContext.js\";\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nvar Context = createContext({});\nvar initialArticle = {\n  title_en: \"\",\n  body_en: null,\n  featured_en: null,\n  title_fr: \"\",\n  body_fr: null,\n  featured_fr: null,\n  status: \"draft\"\n};\n\nvar Provider = function Provider(props) {\n  // Initial values are obtained from the props\n  var initialArticle = props.article,\n      children = props.children; // Use State to keep the values\n\n  var _useState = useState(initialArticle),\n      _useState2 = _slicedToArray(_useState, 2),\n      article = _useState2[0],\n      setArticle = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toast = _useState4[0],\n      setToast = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      errors = _useState6[0],\n      setErrors = _useState6[1];\n\n  useEffect(function () {\n    console.log(\"article ii\", article);\n  }, [article]);\n\n  var updateArticle = function updateArticle(dataKey, data) {\n    //console.log(\"data key\", dataKey) \n    return setArticle(function (prevState) {\n      var newState = _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, dataKey, data));\n\n      return newState;\n    });\n  };\n\n  var validateArticle = function validateArticle() {\n    setErrors([]);\n    setToast(false);\n\n    if (article.status === \"published\") {\n      if (article.title_en === \"\") {\n        setErrors(function (prevError) {\n          return [].concat(_toConsumableArray(prevError), [\"Please enter article title (english) before setting status (published)\"]);\n        });\n      }\n\n      if (article.body_en === null) {\n        setErrors(function (prevError) {\n          return [].concat(_toConsumableArray(prevError), [\"Please enter article body (english) before setting status (published)\"]);\n        });\n      }\n\n      console.log(\"Errors\", console.errors);\n    }\n\n    if (article.status === \"draft\") {\n      setErrors(function (prevError) {\n        return [].concat(_toConsumableArray(prevError), [\"Please enter article body (english) before setting status (published)\"]);\n      });\n    }\n  };\n\n  var articleContext = {\n    article: article,\n    updateArticle: updateArticle,\n    toast: toast,\n    setToast: setToast,\n    errors: errors,\n    validateArticle: validateArticle\n  }; // pass the value in provider and return\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: articleContext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 10\n    }\n  }, children);\n};\n\nvar ArticleProvider = {\n  Provider: Provider,\n  Context: Context\n};\nProvider.propTypes = {\n  article: PropTypes.object\n};\nProvider.defaultProps = {\n  article: {\n    title_en: \"\",\n    body_en: null,\n    featured_en: null,\n    title_fr: \"\",\n    body_fr: null,\n    featured_fr: null,\n    status: \"draft\"\n  }\n};\nexport default ArticleProvider;","map":{"version":3,"sources":["C:/react/lac/src/context/ArticleContext.js"],"names":["React","createContext","useState","useEffect","PropTypes","Context","initialArticle","title_en","body_en","featured_en","title_fr","body_fr","featured_fr","status","Provider","props","article","children","setArticle","toast","setToast","errors","setErrors","console","log","updateArticle","dataKey","data","prevState","newState","validateArticle","prevError","articleContext","ArticleProvider","propTypes","object","defaultProps"],"mappings":"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","sourcesContent":["import React, { createContext, useState,useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Context = createContext({});\r\n\r\nconst initialArticle={\r\n    title_en: \"\",\r\n    body_en: null,\r\n    featured_en:null,\r\n    title_fr: \"\",\r\n    body_fr: null,\r\n    featured_fr:null,\r\n    status:\"draft\"\r\n\r\n}\r\n\r\n\r\n\r\n const Provider = props => {\r\n  // Initial values are obtained from the props\r\n  const {\r\n    article:initialArticle,\r\n    children\r\n  } = props;\r\n\r\n  // Use State to keep the values\r\n\r\n\r\n\r\n  const [article, setArticle] = useState(initialArticle);\r\n  const [toast,setToast]=useState(false)\r\n  const [errors,setErrors]=useState([])\r\n  useEffect(()=>{console.log(\"article ii\",article)},[article])\r\n\r\n  const updateArticle=(dataKey,data)=> \r\n  {\r\n     //console.log(\"data key\", dataKey) \r\n    return setArticle(prevState => { \r\n         let newState=({...prevState,[dataKey]: data})\r\n          return newState\r\n        })  \r\n  }\r\n\r\n\r\n  const validateArticle= ()=>{\r\n      setErrors([])\r\n      setToast(false)\r\n        if(article.status===\"published\"){\r\n        if(article.title_en===\"\"){\r\n            setErrors(prevError=>[...prevError,\"Please enter article title (english) before setting status (published)\"])\r\n        } \r\n        if(article.body_en===null){\r\n            setErrors(prevError=>[...prevError,\"Please enter article body (english) before setting status (published)\"])\r\n        } \r\n\r\n        console.log(\"Errors\",console.errors)\r\n\r\n        }\r\n\r\n        if(article.status===\"draft\"){\r\n            setErrors(prevError=>[...prevError,\"Please enter article body (english) before setting status (published)\"])\r\n\r\n        }\r\n        \r\n\r\n        \r\n\r\n  }\r\n  \r\n\r\n\r\n  const articleContext = {\r\n    article,\r\n    updateArticle,\r\n    toast,\r\n    setToast,\r\n    errors,\r\n    validateArticle\r\n  };\r\n\r\n  // pass the value in provider and return\r\n  return <Context.Provider value={articleContext}>{children}</Context.Provider>;\r\n};\r\n\r\n\r\nconst ArticleProvider= {\r\n    Provider,\r\n    Context\r\n};\r\n\r\nProvider.propTypes = {\r\n    article:PropTypes.object,  \r\n};\r\n\r\nProvider.defaultProps = {\r\n  article: {\r\n    title_en: \"\",\r\n    body_en: null,\r\n    featured_en:null,\r\n    title_fr: \"\",\r\n    body_fr: null,\r\n    featured_fr:null,\r\n    status:\"draft\"\r\n  },\r\n\r\n\r\n};\r\n\r\n\r\nexport default ArticleProvider"]},"metadata":{},"sourceType":"module"}