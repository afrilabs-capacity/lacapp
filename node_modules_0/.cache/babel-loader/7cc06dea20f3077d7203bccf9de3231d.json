{"ast":null,"code":"import React,{lazy,useContext,useEffect}from'react';import{CBadge,CButton,CButtonGroup,CCard,CCardBody,CCardFooter,CCardHeader,CCol,CProgress,CRow,CCallout}from'@coreui/react';import CIcon from'@coreui/icons-react';import ProgrammeProvider from\"../../context/ProgrammeContext\";import Paginations from\"../../pagination/pagination\";import SearchInput from\"../../inputs/search-input\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faEye}from\"@fortawesome/free-solid-svg-icons\";import MainChartExample from'../charts/MainChartExample.js';var styles={noBorder:{border:\"none\"},noBorderTop:{borderBTop:\"none\"},cardStyle:{boxShadow:\" 0 4px 8px 0 rgba(0,0,0,0.2)\",transition:\"0.3s\",border:\"none\"}};var DashboardProgrammes=function DashboardProgrammes(){var _useContext=useContext(ProgrammeProvider.Context),fetching=_useContext.fetching,fetchingFailMsg=_useContext.fetchingFailMsg,setCurrentPage=_useContext.setCurrentPage,fetchProgrammesApi=_useContext.fetchProgrammesApi,pagination=_useContext.pagination,programmes=_useContext.programmes;useEffect(function(){fetchProgrammesApi();// setCurrentPage(1)\n//alert(\"mount\")\n},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CCol,null,/*#__PURE__*/React.createElement(CCard,{style:styles.cardStyle},/*#__PURE__*/React.createElement(CCardHeader,{style:styles.noBorder},/*#__PURE__*/React.createElement(CRow,{className:\"mt-4\"},/*#__PURE__*/React.createElement(CCol,{md:\"5\"},\"All Programmes | Showing Page \",/*#__PURE__*/React.createElement(\"b\",null,programmes.length?pagination.from:\"\"),\"-\",/*#__PURE__*/React.createElement(\"b\",null,programmes.length?pagination.to:\"\"),\" of \",/*#__PURE__*/React.createElement(\"b\",null,programmes.length?pagination.total:\"\"),\" Results\"),/*#__PURE__*/React.createElement(CCol,null,/*#__PURE__*/React.createElement(SearchInput,{context:ProgrammeProvider.Context})))),/*#__PURE__*/React.createElement(CCardBody,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover  mb-2 d-none d-sm-table\",style:styles.noBorder},/*#__PURE__*/React.createElement(\"thead\",{className:\"\",style:styles.noBorder},/*#__PURE__*/React.createElement(\"tr\",{style:styles.noBorder},/*#__PURE__*/React.createElement(\"th\",null,\"Title\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Attendees\"),/*#__PURE__*/React.createElement(\"th\",null,\"View\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,programmes.length?programmes.map(function(post){return/*#__PURE__*/React.createElement(\"tr\",{key:post.id},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"h5\",null,post.name),/*#__PURE__*/React.createElement(\"div\",{className:\"small text-muted\"})),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/attendees/\"+post.id},/*#__PURE__*/React.createElement(\"span\",null,post.users.length))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"clearfix\"},/*#__PURE__*/React.createElement(\"div\",{className:\"float-left\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/programmes/attendees/\"+post.id},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye})))))),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"}));}):null)),!programmes.length&&fetchingFailMsg!==null&&/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},fetchingFailMsg),!programmes.length&&fetching&&/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},\"Loading..\"),programmes.length?/*#__PURE__*/React.createElement(Paginations,{context:ProgrammeProvider.Context}):\"\")))));};export default DashboardProgrammes;","map":{"version":3,"sources":["C:/react/lac/src/views/dashboard/DashboardAllProgrammes.js"],"names":["React","lazy","useContext","useEffect","CBadge","CButton","CButtonGroup","CCard","CCardBody","CCardFooter","CCardHeader","CCol","CProgress","CRow","CCallout","CIcon","ProgrammeProvider","Paginations","SearchInput","FontAwesomeIcon","faEye","MainChartExample","styles","noBorder","border","noBorderTop","borderBTop","cardStyle","boxShadow","transition","DashboardProgrammes","Context","fetching","fetchingFailMsg","setCurrentPage","fetchProgrammesApi","pagination","programmes","length","from","to","total","map","post","id","name","users"],"mappings":"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","sourcesContent":["import React, { lazy,useContext,useEffect } from 'react'\r\nimport {\r\n  CBadge,\r\n  CButton,\r\n  CButtonGroup,\r\n  CCard,\r\n  CCardBody,\r\n  CCardFooter,\r\n  CCardHeader,\r\n  CCol,\r\n  CProgress,\r\n  CRow,\r\n  CCallout\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport ProgrammeProvider from \"../../context/ProgrammeContext\"\r\nimport Paginations from \"../../pagination/pagination\"\r\nimport SearchInput from \"../../inputs/search-input\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEye } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport MainChartExample from '../charts/MainChartExample.js'\r\n\r\nconst styles={\r\n    noBorder:{\r\n        border:\"none\"\r\n    },\r\n    noBorderTop:{\r\n        borderBTop:\"none\"\r\n    },\r\n    cardStyle:{\r\n        boxShadow: \" 0 4px 8px 0 rgba(0,0,0,0.2)\",\r\n        transition: \"0.3s\",\r\n        border:\"none\"\r\n    }\r\n}\r\n\r\n\r\n\r\nconst DashboardProgrammes = () => {\r\n\r\nconst {fetching,fetchingFailMsg,setCurrentPage,fetchProgrammesApi,pagination,programmes}=useContext(ProgrammeProvider.Context)\r\n\r\nuseEffect(()=>{\r\nfetchProgrammesApi()\r\n// setCurrentPage(1)\r\n//alert(\"mount\")\r\n\r\n},[])\r\n\r\n\r\n  return (\r\n    <><CRow>\r\n        <CCol>\r\n          <CCard style={styles.cardStyle}>\r\n            <CCardHeader style={styles.noBorder}>\r\n            <CRow  className=\"mt-4\">\r\n          \r\n              <CCol md=\"5\">\r\n              All Programmes | Showing Page <b>{programmes.length ? pagination.from:\"\"}</b>-<b>{programmes.length ? pagination.to:\"\"}</b> of <b>{programmes.length ? pagination.total: \"\"  }</b> Results\r\n              </CCol>\r\n\r\n              <CCol>\r\n             <SearchInput context={ProgrammeProvider.Context} />\r\n              </CCol>\r\n              </CRow>\r\n             \r\n            </CCardHeader>\r\n            <CCardBody>\r\n\r\n\r\n              <table className=\"table table-hover  mb-2 d-none d-sm-table\" style={styles.noBorder}>\r\n                <thead className=\"\"  style={styles.noBorder}>\r\n                  <tr style={styles.noBorder}> \r\n                    <th>Title</th>\r\n                    <th className=\"text-center\">Attendees</th>\r\n                    <th>View</th>\r\n                    <th className=\"text-center\"></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                    { programmes.length ? programmes.map((post)=>( \r\n                    <tr key={post.id}><td>\r\n                    <h5>{post.name}</h5>\r\n                      <div className=\"small text-muted\">\r\n                        \r\n                      </div>\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      <a href={\"/attendees/\"+post.id}><span>{post.users.length}</span></a>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"clearfix\">\r\n                        <div className=\"float-left\">\r\n                        <a href={\"/programmes/attendees/\"+post.id}><span><FontAwesomeIcon icon={faEye} /></span></a>\r\n                        </div>\r\n                      </div> \r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      {/* <CIcon height={25} name=\"cib-cc-mastercard\" /> */}\r\n                    </td>\r\n                    </tr>\r\n\r\n\r\n                   \r\n                    )):null\r\n                      \r\n                  }\r\n                 \r\n\r\n \r\n                \r\n                </tbody>\r\n              </table>\r\n\r\n              {!programmes.length && fetchingFailMsg!==null && <h3 className=\"mb-4\">{fetchingFailMsg}</h3>}\r\n\r\n              {!programmes.length && fetching && <h3 className=\"mb-4\">Loading..</h3>}\r\n\r\n              {programmes.length ? <Paginations context={ProgrammeProvider.Context} /> : \"\" }\r\n\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DashboardProgrammes\r\n"]},"metadata":{},"sourceType":"module"}