{"ast":null,"code":"import _objectSpread from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport axios from \"axios\";\nimport authHeader from \"./auth-header\";\nimport UserProvider from \"../../context/UserContext\";\nvar API_URL = \"http://192.168.43.122:8080/laravel/site40/public/api/v1/\";\n\nvar getUsersApi = function getUsersApi() {\n  var _useContext = useContext(UserProvider.Context),\n      toast = _useContext.toast,\n      fetchUsersApi = _useContext.fetchUsersApi,\n      users = _useContext.users,\n      setUser = _useContext.setUser,\n      addUserApi = _useContext.addUserApi,\n      errors = _useContext.errors,\n      KeysToErrorArray = _useContext.KeysToErrorArray,\n      setFetching = _useContext.setFetching,\n      setErrors = _useContext.setErrors,\n      setPagination = _useContext.setPagination,\n      setUsers = _useContext.setUsers;\n\n  axios.get(API_URL + \"users\", {\n    headers: authHeader()\n  }).then(function (response) {\n    setUsers([]);\n    setFetching(true);\n    console.log(\"fetch articles\", response.data.data.data.data);\n    setUsers(function (prevArticle) {\n      return [].concat(_toConsumableArray(prevArticle), _toConsumableArray(response.data.data.data.data));\n    });\n    setPagination(function (prevArticle) {\n      return _objectSpread(_objectSpread({}, prevArticle), response.data.data.data);\n    });\n    setFetching(false);\n    console.log(\"post response all articles\", response.data.data.data);\n  }).catch(function (error) {\n    setErrors([]);\n    setFetching(false);\n\n    if (error.response.status) {\n      switch (error.response.status) {\n        case 500:\n          alert.show(error.response.statusText, {\n            type: 'error'\n          });\n          break;\n\n        case 422:\n          KeysToErrorArray(error.response.data.errors);\n          break;\n\n        case 409:\n          KeysToErrorArray(error.response.data.errors);\n          break;\n\n        case 401:\n          alert.show(\"Token error\", {\n            type: 'notice'\n          }); //showLoginModal()\n\n          break;\n\n        default:\n          !error.response ? alert.show(\"Server currently down\", {\n            type: 'error'\n          }) : alert.show(error.response.statusText, {\n            type: 'error'\n          });\n      }\n    } else {\n      alert.show(\"Server currently down\", {\n        type: 'error'\n      });\n    } //   error.response!==undefined ? setFetchingFailMsg(\"No programmes found\") : setFetchingFailMsg(\"Unknown error\")\n    // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\n    // setErrors(prevError=>[...prevError,apiStatus])\n\n  });\n};\n\nexport default {\n  getUsersApi: getUsersApi\n};","map":{"version":3,"sources":["C:/react/lac/src/services/user.service.js"],"names":["axios","authHeader","UserProvider","API_URL","getUsersApi","useContext","Context","toast","fetchUsersApi","users","setUser","addUserApi","errors","KeysToErrorArray","setFetching","setErrors","setPagination","setUsers","get","headers","then","response","console","log","data","prevArticle","catch","error","status","alert","show","statusText","type"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\nimport UserProvider from \"../../context/UserContext\"\r\n\r\nconst API_URL = \"http://192.168.43.122:8080/laravel/site40/public/api/v1/\";\r\n\r\nconst getUsersApi= () => {\r\n\r\n  const {toast,fetchUsersApi,users,setUser,addUserApi,errors,KeysToErrorArray,setFetching,setErrors,setPagination, setUsers}=useContext(UserProvider.Context)\r\n\r\n\r\n  axios.get( API_URL+\"users\",{headers: authHeader()}).then (response => {\r\n    setUsers([])\r\n    setFetching(true)\r\n\r\n    console.log(\"fetch articles\",response.data.data.data.data)\r\n    setUsers(prevArticle=>{\r\n      return [...prevArticle,...response.data.data.data.data]\r\n    })\r\n\r\n    setPagination(prevArticle=>{\r\n      return {...prevArticle,...response.data.data.data}\r\n    })\r\n    \r\n    setFetching(false)\r\n    console.log(\"post response all articles\",response.data.data.data)\r\n  }).catch(error => {\r\n    setErrors([])\r\n    setFetching(false)\r\n    if(error.response.status){\r\n         switch(error.response.status) {\r\n      case 500:\r\n          alert.show(error.response.statusText,{type: 'error'})\r\n        break;\r\n      case 422:\r\n          KeysToErrorArray(error.response.data.errors)\r\n        break;\r\n        case 409:\r\n          KeysToErrorArray(error.response.data.errors)\r\n        break;\r\n        case 401:\r\n          alert.show(\"Token error\",{type:'notice'})\r\n          //showLoginModal()\r\n        break;\r\n      default:\r\n          !error.response ? alert.show(\"Server currently down\",{type: 'error'}):\r\n          alert.show(error.response.statusText,{type: 'error'})\r\n    }     \r\n    }else{\r\n      alert.show(\"Server currently down\",{type: 'error'})\r\n    }\r\n\r\n  //   error.response!==undefined ? setFetchingFailMsg(\"No programmes found\") : setFetchingFailMsg(\"Unknown error\")\r\n    // let apiStatus=error.response!==undefined ? error.response.statusText : \"Unknown error\"\r\n    // setErrors(prevError=>[...prevError,apiStatus])\r\n    \r\n});\r\n};\r\n\r\n\r\n\r\nexport default {\r\n  getUsersApi\r\n};"]},"metadata":{},"sourceType":"module"}