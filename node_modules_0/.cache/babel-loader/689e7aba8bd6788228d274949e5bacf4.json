{"ast":null,"code":"import axios from\"axios\";import urlService from\"../services/url-service\";var API_URL=urlService().authUrl;var register=function register(username,email,password){return axios.post(API_URL+\"signup\",{username:username,email:email,password:password});};var login=function login(email,password){return axios.post(API_URL+\"login\",{email:email,password:password}).then(function(response){//alert(\"hi there\")\nconsole.log('response',response);if(response.data.access_token){console.log(\"LAC response\",response);var userData={id:response.data.user.id,name:response.data.user.name,email:response.data.user.email,accountType:response.data.user.account_type,accessToken:response.data.access_token};localStorage.setItem(\"lac_user\",JSON.stringify(userData));}//console.log(response)\nreturn response.data;});};var logout=function logout(){localStorage.removeItem(\"lac_user\");};var getCurrentUser=function getCurrentUser(){return JSON.parse(localStorage.getItem(\"lac_user\"));};export default{register:register,login:login,logout:logout,getCurrentUser:getCurrentUser};","map":{"version":3,"sources":["C:/react/lac/src/services/auth.service.js"],"names":["axios","urlService","API_URL","authUrl","register","username","email","password","post","login","then","response","console","log","data","access_token","userData","id","user","name","accountType","account_type","accessToken","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","parse","getItem"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CAEA,GAAMC,CAAAA,OAAO,CAAGD,UAAU,GAAGE,OAA7B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAWC,KAAX,CAAkBC,QAAlB,CAA+B,CAC9C,MAAOP,CAAAA,KAAK,CAACQ,IAAN,CAAWN,OAAO,CAAG,QAArB,CAA+B,CACpCG,QAAQ,CAARA,QADoC,CAEpCC,KAAK,CAALA,KAFoC,CAGpCC,QAAQ,CAARA,QAHoC,CAA/B,CAAP,CAKD,CAND,CAQA,GAAME,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACH,KAAD,CAAQC,QAAR,CAAqB,CACjC,MAAOP,CAAAA,KAAK,CACTQ,IADI,CACCN,OAAO,CAAG,OADX,CACoB,CACvBI,KAAK,CAALA,KADuB,CAEvBC,QAAQ,CAARA,QAFuB,CADpB,EAKJG,IALI,CAKC,SAACC,QAAD,CAAc,CAEhB;AACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAuBF,QAAvB,EACF,GAAIA,QAAQ,CAACG,IAAT,CAAcC,YAAlB,CAAgC,CAC9BH,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA2BF,QAA3B,EACE,GAAIK,CAAAA,QAAQ,CAAC,CACTC,EAAE,CAACN,QAAQ,CAACG,IAAT,CAAcI,IAAd,CAAmBD,EADb,CAETE,IAAI,CAACR,QAAQ,CAACG,IAAT,CAAcI,IAAd,CAAmBC,IAFf,CAGTb,KAAK,CAACK,QAAQ,CAACG,IAAT,CAAcI,IAAd,CAAmBZ,KAHhB,CAITc,WAAW,CAACT,QAAQ,CAACG,IAAT,CAAcI,IAAd,CAAmBG,YAJtB,CAKTC,WAAW,CAACX,QAAQ,CAACG,IAAT,CAAcC,YALjB,CAAb,CAQFQ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCC,IAAI,CAACC,SAAL,CAAeV,QAAf,CAAjC,EACD,CACD;AACA,MAAOL,CAAAA,QAAQ,CAACG,IAAhB,CACD,CAvBI,CAAP,CAwBD,CAzBD,CA2BA,GAAMa,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACrBJ,YAAY,CAACK,UAAb,CAAwB,UAAxB,EACC,CAFD,CAIA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,MAAOJ,CAAAA,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACQ,OAAb,CAAqB,UAArB,CAAX,CAAP,CACD,CAFD,CAIA,cAAe,CACb3B,QAAQ,CAARA,QADa,CAEbK,KAAK,CAALA,KAFa,CAGbkB,MAAM,CAANA,MAHa,CAIbE,cAAc,CAAdA,cAJa,CAAf","sourcesContent":["import axios from \"axios\";\r\nimport urlService from \"../services/url-service\";\r\n\r\nconst API_URL = urlService().authUrl;\r\n\r\nconst register = (username, email, password) => {\r\n  return axios.post(API_URL + \"signup\", {\r\n    username,\r\n    email,\r\n    password,\r\n  });\r\n};\r\n\r\nconst login = (email, password) => {\r\n  return axios\r\n    .post(API_URL + \"login\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((response) => {\r\n        \r\n        //alert(\"hi there\")\r\n        console.log('response',response)\r\n      if (response.data.access_token) {\r\n        console.log(\"LAC response\",response)\r\n          let userData={\r\n              id:response.data.user.id,\r\n              name:response.data.user.name,\r\n              email:response.data.user.email,\r\n              accountType:response.data.user.account_type,\r\n              accessToken:response.data.access_token\r\n          }\r\n          \r\n        localStorage.setItem(\"lac_user\", JSON.stringify(userData));\r\n      }\r\n      //console.log(response)\r\n      return response.data;\r\n    })\r\n};\r\n\r\nconst logout = () => { \r\nlocalStorage.removeItem(\"lac_user\");\r\n};\r\n\r\nconst getCurrentUser = () => {\r\n  return JSON.parse(localStorage.getItem(\"lac_user\"));\r\n};\r\n\r\nexport default {\r\n  register,\r\n  login,\r\n  logout,\r\n  getCurrentUser,\r\n};"]},"metadata":{},"sourceType":"module"}