{"ast":null,"code":"import _classCallCheck from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _createClass from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport React from 'react';\n\nvar Markme = /*#__PURE__*/function (_React$Component) {\n  _inherits(Markme, _React$Component);\n\n  var _super = _createSuper(Markme);\n\n  _createClass(Markme, [{\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    },\n    set: function set(state) {\n      this._state = state;\n      this.button.classList.toggle(this.api.styles.inlineToolButtonActive, state);\n    }\n  }], [{\n    key: \"isInline\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  function Markme(_ref) {\n    var _this;\n\n    var api = _ref.api;\n\n    _classCallCheck(this, Markme);\n\n    _this.api = api;\n    _this.button = null;\n    _this._state = false;\n    _this.tag = 'MARK';\n    _this.class = 'cdx-marker';\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(Markme, [{\n    key: \"render\",\n    value: function render() {\n      this.button = document.createElement('button');\n      this.button.type = 'button';\n      this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M10.458 12.04l2.919 1.686-.781 1.417-.984-.03-.974 1.687H8.674l1.49-2.583-.508-.775.802-1.401zm.546-.952l3.624-6.327a1.597 1.597 0 0 1 2.182-.59 1.632 1.632 0 0 1 .615 2.201l-3.519 6.391-2.902-1.675zm-7.73 3.467h3.465a1.123 1.123 0 1 1 0 2.247H3.273a1.123 1.123 0 1 1 0-2.247z\"/></svg>';\n      this.button.classList.add(this.api.styles.inlineToolButton);\n      return this.button;\n    }\n  }, {\n    key: \"surround\",\n    value: function surround(range) {\n      if (this.state) {\n        this.unwrap(range);\n        return;\n      }\n\n      this.wrap(range);\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(range) {\n      var selectedText = range.extractContents();\n      var mark = document.createElement(this.tag);\n      mark.classList.add(this.class);\n      mark.appendChild(selectedText);\n      range.insertNode(mark);\n      this.api.selection.expandToTag(mark);\n    }\n  }, {\n    key: \"unwrap\",\n    value: function unwrap(range) {\n      var mark = this.api.selection.findParentTag(this.tag, this.class);\n      var text = range.extractContents();\n      mark.remove();\n      range.insertNode(text);\n    }\n  }, {\n    key: \"checkState\",\n    value: function checkState() {\n      var mark = this.api.selection.findParentTag(this.tag);\n      this.state = !!mark;\n    }\n  }]);\n\n  return Markme;\n}(React.Component);\n\nexport default Markme;","map":{"version":3,"sources":["C:/react/lac/src/api-classes/Markme.js"],"names":["React","Markme","_state","state","button","classList","toggle","api","styles","inlineToolButtonActive","tag","class","document","createElement","type","innerHTML","add","inlineToolButton","range","unwrap","wrap","selectedText","extractContents","mark","appendChild","insertNode","selection","expandToTag","findParentTag","text","remove","Component"],"mappings":";;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;;IAEMC,M;;;;;;;wBAKY;AACV,aAAO,KAAKC,MAAZ;AACD,K;sBAESC,K,EAAO;AACf,WAAKD,MAAL,GAAcC,KAAd;AAEA,WAAKC,MAAL,CAAYC,SAAZ,CAAsBC,MAAtB,CAA6B,KAAKC,GAAL,CAASC,MAAT,CAAgBC,sBAA7C,EAAqEN,KAArE;AACD;;;wBAZmB;AAClB,aAAO,IAAP;AACD;;;AAYD,wBAAmB;AAAA;;AAAA,QAANI,GAAM,QAANA,GAAM;;AAAA;;AACjB,UAAKA,GAAL,GAAWA,GAAX;AACA,UAAKH,MAAL,GAAc,IAAd;AACA,UAAKF,MAAL,GAAc,KAAd;AAEA,UAAKQ,GAAL,GAAW,MAAX;AACA,UAAKC,KAAL,GAAa,YAAb;AANiB;AAOlB;;;;6BAEQ;AACP,WAAKP,MAAL,GAAcQ,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACA,WAAKT,MAAL,CAAYU,IAAZ,GAAmB,QAAnB;AACA,WAAKV,MAAL,CAAYW,SAAZ,GAAwB,oUAAxB;AACA,WAAKX,MAAL,CAAYC,SAAZ,CAAsBW,GAAtB,CAA0B,KAAKT,GAAL,CAASC,MAAT,CAAgBS,gBAA1C;AAEA,aAAO,KAAKb,MAAZ;AACD;;;6BAEQc,K,EAAO;AACd,UAAI,KAAKf,KAAT,EAAgB;AACd,aAAKgB,MAAL,CAAYD,KAAZ;AACA;AACD;;AAED,WAAKE,IAAL,CAAUF,KAAV;AACD;;;yBAEIA,K,EAAO;AACV,UAAMG,YAAY,GAAGH,KAAK,CAACI,eAAN,EAArB;AACA,UAAMC,IAAI,GAAGX,QAAQ,CAACC,aAAT,CAAuB,KAAKH,GAA5B,CAAb;AAEAa,MAAAA,IAAI,CAAClB,SAAL,CAAeW,GAAf,CAAmB,KAAKL,KAAxB;AACAY,MAAAA,IAAI,CAACC,WAAL,CAAiBH,YAAjB;AACAH,MAAAA,KAAK,CAACO,UAAN,CAAiBF,IAAjB;AAEA,WAAKhB,GAAL,CAASmB,SAAT,CAAmBC,WAAnB,CAA+BJ,IAA/B;AACD;;;2BAEML,K,EAAO;AACZ,UAAMK,IAAI,GAAG,KAAKhB,GAAL,CAASmB,SAAT,CAAmBE,aAAnB,CAAiC,KAAKlB,GAAtC,EAA2C,KAAKC,KAAhD,CAAb;AACA,UAAMkB,IAAI,GAAGX,KAAK,CAACI,eAAN,EAAb;AAEAC,MAAAA,IAAI,CAACO,MAAL;AAEAZ,MAAAA,KAAK,CAACO,UAAN,CAAiBI,IAAjB;AACD;;;iCAGY;AACX,UAAMN,IAAI,GAAG,KAAKhB,GAAL,CAASmB,SAAT,CAAmBE,aAAnB,CAAiC,KAAKlB,GAAtC,CAAb;AAEA,WAAKP,KAAL,GAAa,CAAC,CAACoB,IAAf;AACD;;;;EAnEcvB,KAAK,CAAC+B,S;;AAuE3B,eAAe9B,MAAf","sourcesContent":["\r\nimport React from 'react'\r\n\r\nclass Markme extends React.Component{\r\n    static get isInline() {\r\n        return true;\r\n      }\r\n    \r\n      get state() {\r\n        return this._state;\r\n      }\r\n    \r\n      set state(state) {\r\n        this._state = state;\r\n    \r\n        this.button.classList.toggle(this.api.styles.inlineToolButtonActive, state);\r\n      }\r\n    \r\n      constructor({api}) {\r\n        this.api = api;\r\n        this.button = null;\r\n        this._state = false;\r\n    \r\n        this.tag = 'MARK';\r\n        this.class = 'cdx-marker';\r\n      }\r\n    \r\n      render() {\r\n        this.button = document.createElement('button');\r\n        this.button.type = 'button';\r\n        this.button.innerHTML = '<svg width=\"20\" height=\"18\"><path d=\"M10.458 12.04l2.919 1.686-.781 1.417-.984-.03-.974 1.687H8.674l1.49-2.583-.508-.775.802-1.401zm.546-.952l3.624-6.327a1.597 1.597 0 0 1 2.182-.59 1.632 1.632 0 0 1 .615 2.201l-3.519 6.391-2.902-1.675zm-7.73 3.467h3.465a1.123 1.123 0 1 1 0 2.247H3.273a1.123 1.123 0 1 1 0-2.247z\"/></svg>';\r\n        this.button.classList.add(this.api.styles.inlineToolButton);\r\n    \r\n        return this.button;\r\n      }\r\n    \r\n      surround(range) {\r\n        if (this.state) {\r\n          this.unwrap(range);\r\n          return;\r\n        }\r\n    \r\n        this.wrap(range);\r\n      }\r\n    \r\n      wrap(range) {\r\n        const selectedText = range.extractContents();\r\n        const mark = document.createElement(this.tag);\r\n    \r\n        mark.classList.add(this.class);\r\n        mark.appendChild(selectedText);\r\n        range.insertNode(mark);\r\n    \r\n        this.api.selection.expandToTag(mark);\r\n      }\r\n    \r\n      unwrap(range) {\r\n        const mark = this.api.selection.findParentTag(this.tag, this.class);\r\n        const text = range.extractContents();\r\n    \r\n        mark.remove();\r\n    \r\n        range.insertNode(text);\r\n      }\r\n    \r\n    \r\n      checkState() {\r\n        const mark = this.api.selection.findParentTag(this.tag);\r\n    \r\n        this.state = !!mark;\r\n      }\r\n}\r\n\r\n\r\nexport default Markme"]},"metadata":{},"sourceType":"module"}