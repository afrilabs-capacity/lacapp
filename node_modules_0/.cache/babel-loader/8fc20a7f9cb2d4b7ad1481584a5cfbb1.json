{"ast":null,"code":"import React,{lazy,useContext,useEffect}from'react';import{CBadge,CButton,CButtonGroup,CCard,CCardBody,CCardFooter,CCardHeader,CCol,CProgress,CRow,CCallout}from'@coreui/react';import CIcon from'@coreui/icons-react';import ArticleProvider from\"../../context/ArticleContext\";import Paginations from\"../../pagination/pagination\";import SearchInput from\"../../inputs/search-input\";import LoginModal from'../../modals/login-modal';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrash}from\"@fortawesome/free-solid-svg-icons\";import MainChartExample from'../charts/MainChartExample.js';var styles={noBorder:{border:\"none\"},noBorderTop:{borderBTop:\"none\"},cardStyle:{boxShadow:\" 0 4px 8px 0 rgba(0,0,0,0.2)\",transition:\"0.3s\",border:\"none\"}};var Dashboard=function Dashboard(){var _useContext=useContext(ArticleProvider.Context),fetching=_useContext.fetching,fetchingFailMsg=_useContext.fetchingFailMsg,setCurrentPage=_useContext.setCurrentPage,articles=_useContext.articles,fetchArticlesApi=_useContext.fetchArticlesApi,pagination=_useContext.pagination,fetchArticleByIdApi=_useContext.fetchArticleByIdApi,resetEditArticle=_useContext.resetEditArticle,resetArticle=_useContext.resetArticle,setEditMode=_useContext.setEditMode,setArticle=_useContext.setArticle,setCurrentArticle=_useContext.setCurrentArticle,editMode=_useContext.editMode,selectedImageEn=_useContext.selectedImageEn,selectedImageFr=_useContext.selectedImageFr,validateArticle=_useContext.validateArticle,toast=_useContext.toast,modal=_useContext.modal,setModal=_useContext.setModal,setToast=_useContext.setToast,article=_useContext.article,updateArticle=_useContext.updateArticle,deleteArticleApi=_useContext.deleteArticleApi;useEffect(function(){fetchArticlesApi();setCurrentPage(1);//alert(\"mount\")\n},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CCol,null,/*#__PURE__*/React.createElement(CCard,{style:styles.cardStyle},/*#__PURE__*/React.createElement(CCardHeader,{style:styles.noBorder},/*#__PURE__*/React.createElement(CRow,{className:\"mt-4\"},/*#__PURE__*/React.createElement(CCol,{md:\"5\"},\"All Posts | Showing Page \",/*#__PURE__*/React.createElement(\"b\",null,articles.length?pagination.from:\"\"),\"-\",/*#__PURE__*/React.createElement(\"b\",null,articles.length?pagination.to:\"\"),\" of \",/*#__PURE__*/React.createElement(\"b\",null,articles.length?pagination.total:\"\"),\" Results\"),/*#__PURE__*/React.createElement(CCol,null,/*#__PURE__*/React.createElement(SearchInput,{context:ArticleProvider.Context})))),/*#__PURE__*/React.createElement(CCardBody,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover  mb-2 d-none d-sm-table\",style:styles.noBorder},/*#__PURE__*/React.createElement(\"thead\",{className:\"\",style:styles.noBorder},/*#__PURE__*/React.createElement(\"tr\",{style:styles.noBorder},/*#__PURE__*/React.createElement(\"th\",null,\"Title\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Category\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Type\"),/*#__PURE__*/React.createElement(\"th\",null,\"Trash\"))),/*#__PURE__*/React.createElement(\"tbody\",null,articles.length?articles.map(function(post){return/*#__PURE__*/React.createElement(\"tr\",{key:post.id},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/posts/edit/\"+post.id},/*#__PURE__*/React.createElement(\"h5\",null,post.title_en)),/*#__PURE__*/React.createElement(\"div\",{className:\"small text-muted\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/posts/edit/\"+post.id},/*#__PURE__*/React.createElement(\"span\",null,\"Edit\")),\" | Posted: \",post.created_at)),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"span\",null,post.status)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"clearfix\"},/*#__PURE__*/React.createElement(\"div\",{className:\"float-left\"},/*#__PURE__*/React.createElement(\"span\",null,post.category)))),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"span\",null,post.type)),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{style:{color:post.type==\"dash\"?\"red\":\"#eee\",cursor:\"pointer\"},onClick:function onClick(){return post.type==\"dash\"&&deleteArticleApi(post.id);},icon:faTrash})));}):null)),!articles.length&&fetchingFailMsg!==null&&/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},fetchingFailMsg),!articles.length&&fetching&&/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},\"Loading..\"),articles.length?/*#__PURE__*/React.createElement(Paginations,{context:ArticleProvider.Context}):\"\"))),/*#__PURE__*/React.createElement(LoginModal,{context:ArticleProvider.Context})));};export default Dashboard;","map":{"version":3,"sources":["C:/react/lac/src/views/dashboard/DashboardAllPost.js"],"names":["React","lazy","useContext","useEffect","CBadge","CButton","CButtonGroup","CCard","CCardBody","CCardFooter","CCardHeader","CCol","CProgress","CRow","CCallout","CIcon","ArticleProvider","Paginations","SearchInput","LoginModal","FontAwesomeIcon","faTrash","MainChartExample","styles","noBorder","border","noBorderTop","borderBTop","cardStyle","boxShadow","transition","Dashboard","Context","fetching","fetchingFailMsg","setCurrentPage","articles","fetchArticlesApi","pagination","fetchArticleByIdApi","resetEditArticle","resetArticle","setEditMode","setArticle","setCurrentArticle","editMode","selectedImageEn","selectedImageFr","validateArticle","toast","modal","setModal","setToast","article","updateArticle","deleteArticleApi","length","from","to","total","map","post","id","title_en","created_at","status","category","type","color","cursor"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,CAAqBC,UAArB,CAAgCC,SAAhC,KAAiD,OAAjD,CACA,OACEC,MADF,CAEEC,OAFF,CAGEC,YAHF,CAIEC,KAJF,CAKEC,SALF,CAMEC,WANF,CAOEC,WAPF,CAQEC,IARF,CASEC,SATF,CAUEC,IAVF,CAWEC,QAXF,KAYO,eAZP,CAaA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,OAAT,KAAuB,mCAAvB,CAEA,MAAOC,CAAAA,gBAAP,KAA6B,+BAA7B,CAEA,GAAMC,CAAAA,MAAM,CAAC,CACTC,QAAQ,CAAC,CACLC,MAAM,CAAC,MADF,CADA,CAITC,WAAW,CAAC,CACRC,UAAU,CAAC,MADH,CAJH,CAOTC,SAAS,CAAC,CACNC,SAAS,CAAE,8BADL,CAENC,UAAU,CAAE,MAFN,CAGNL,MAAM,CAAC,MAHD,CAPD,CAAb,CAgBA,GAAMM,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,iBAEsR7B,UAAU,CAACc,eAAe,CAACgB,OAAjB,CAFhS,CAEjBC,QAFiB,aAEjBA,QAFiB,CAERC,eAFQ,aAERA,eAFQ,CAEQC,cAFR,aAEQA,cAFR,CAEuBC,QAFvB,aAEuBA,QAFvB,CAEgCC,gBAFhC,aAEgCA,gBAFhC,CAEiDC,UAFjD,aAEiDA,UAFjD,CAE4DC,mBAF5D,aAE4DA,mBAF5D,CAEgFC,gBAFhF,aAEgFA,gBAFhF,CAEiGC,YAFjG,aAEiGA,YAFjG,CAE8GC,WAF9G,aAE8GA,WAF9G,CAE0HC,UAF1H,aAE0HA,UAF1H,CAEqIC,iBAFrI,aAEqIA,iBAFrI,CAEuJC,QAFvJ,aAEuJA,QAFvJ,CAEgKC,eAFhK,aAEgKA,eAFhK,CAEgLC,eAFhL,aAEgLA,eAFhL,CAEgMC,eAFhM,aAEgMA,eAFhM,CAEgNC,KAFhN,aAEgNA,KAFhN,CAEsNC,KAFtN,aAEsNA,KAFtN,CAE4NC,QAF5N,aAE4NA,QAF5N,CAEqOC,QAFrO,aAEqOA,QAFrO,CAE8OC,OAF9O,aAE8OA,OAF9O,CAEsPC,aAFtP,aAEsPA,aAFtP,CAEoQC,gBAFpQ,aAEoQA,gBAFpQ,CAIxBpD,SAAS,CAAC,UAAI,CACdkC,gBAAgB,GAChBF,cAAc,CAAC,CAAD,CAAd,CACA;AAEC,CALQ,CAKP,EALO,CAAT,CAQE,mBACE,qDAAE,oBAAC,IAAD,mBACE,oBAAC,IAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,CAAEZ,MAAM,CAACK,SAArB,eACE,oBAAC,WAAD,EAAa,KAAK,CAAEL,MAAM,CAACC,QAA3B,eACA,oBAAC,IAAD,EAAO,SAAS,CAAC,MAAjB,eAGE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,2CACyB,6BAAIY,QAAQ,CAACoB,MAAT,CAAkBlB,UAAU,CAACmB,IAA7B,CAAkC,EAAtC,CADzB,kBACuE,6BAAIrB,QAAQ,CAACoB,MAAT,CAAkBlB,UAAU,CAACoB,EAA7B,CAAgC,EAApC,CADvE,qBACsH,6BAAItB,QAAQ,CAACoB,MAAT,CAAkBlB,UAAU,CAACqB,KAA7B,CAAoC,EAAxC,CADtH,YAHF,cAOE,oBAAC,IAAD,mBACD,oBAAC,WAAD,EAAa,OAAO,CAAE3C,eAAe,CAACgB,OAAtC,EADC,CAPF,CADA,CADF,cAeE,oBAAC,SAAD,mBAGE,6BAAO,SAAS,CAAC,2CAAjB,CAA6D,KAAK,CAAET,MAAM,CAACC,QAA3E,eACE,6BAAO,SAAS,CAAC,EAAjB,CAAqB,KAAK,CAAED,MAAM,CAACC,QAAnC,eACE,0BAAI,KAAK,CAAED,MAAM,CAACC,QAAlB,eACE,sCADF,cAEE,0BAAI,SAAS,CAAC,aAAd,WAFF,cAGE,yCAHF,cAIE,0BAAI,SAAS,CAAC,aAAd,SAJF,cAKE,sCALF,CADF,CADF,cAUE,iCACMY,QAAQ,CAACoB,MAAT,CAAkBpB,QAAQ,CAACwB,GAAT,CAAa,SAACC,IAAD,qBACjC,0BAAI,GAAG,CAAEA,IAAI,CAACC,EAAd,eAAkB,2CAClB,yBAAG,IAAI,CAAE,eAAeD,IAAI,CAACC,EAA7B,eAAiC,8BAAKD,IAAI,CAACE,QAAV,CAAjC,CADkB,cAEhB,2BAAK,SAAS,CAAC,kBAAf,eACE,yBAAG,IAAI,CAAE,eAAeF,IAAI,CAACC,EAA7B,eAAiC,uCAAjC,CADF,eACoED,IAAI,CAACG,UADzE,CAFgB,CAAlB,cAMA,0BAAI,SAAS,CAAC,aAAd,eACE,gCAAOH,IAAI,CAACI,MAAZ,CADF,CANA,cASA,2CACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,gCAAOJ,IAAI,CAACK,QAAZ,CADF,CADF,CADF,CATA,cAgBA,0BAAI,SAAS,CAAC,aAAd,eACA,gCAAOL,IAAI,CAACM,IAAZ,CADA,CAhBA,cAmBA,0BAAI,SAAS,CAAC,aAAd,eACA,oBAAC,eAAD,EAAiB,KAAK,CAAE,CAACC,KAAK,CAACP,IAAI,CAACM,IAAL,EAAW,MAAX,CAAmB,KAAnB,CAAyB,MAAhC,CAAuCE,MAAM,CAAC,SAA9C,CAAxB,CAAkF,OAAO,CAAE,yBAAKR,CAAAA,IAAI,CAACM,IAAL,EAAW,MAAX,EAAqBZ,gBAAgB,CAACM,IAAI,CAACC,EAAN,CAA1C,EAA3F,CAAgJ,IAAI,CAAEzC,OAAtJ,EADA,CAnBA,CADiC,EAAb,CAAlB,CA4BC,IA7BP,CAVF,CAHF,CAqDG,CAACe,QAAQ,CAACoB,MAAV,EAAoBtB,eAAe,GAAG,IAAtC,eAA8C,0BAAI,SAAS,CAAC,MAAd,EAAsBA,eAAtB,CArDjD,CAuDG,CAACE,QAAQ,CAACoB,MAAV,EAAoBvB,QAApB,eAAgC,0BAAI,SAAS,CAAC,MAAd,cAvDnC,CAyDGG,QAAQ,CAACoB,MAAT,cAAkB,oBAAC,WAAD,EAAa,OAAO,CAAExC,eAAe,CAACgB,OAAtC,EAAlB,CAAsE,EAzDzE,CAfF,CADF,CADF,cA+EE,oBAAC,UAAD,EAAY,OAAO,CAAEhB,eAAe,CAACgB,OAArC,EA/EF,CAAF,CADF,CAoFD,CAhGD,CAkGA,cAAeD,CAAAA,SAAf","sourcesContent":["import React, { lazy,useContext,useEffect } from 'react'\r\nimport {\r\n  CBadge,\r\n  CButton,\r\n  CButtonGroup,\r\n  CCard,\r\n  CCardBody,\r\n  CCardFooter,\r\n  CCardHeader,\r\n  CCol,\r\n  CProgress,\r\n  CRow,\r\n  CCallout\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport ArticleProvider from \"../../context/ArticleContext\"\r\nimport Paginations from \"../../pagination/pagination\"\r\nimport SearchInput from \"../../inputs/search-input\"\r\nimport LoginModal from '../../modals/login-modal'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport MainChartExample from '../charts/MainChartExample.js'\r\n\r\nconst styles={\r\n    noBorder:{\r\n        border:\"none\"\r\n    },\r\n    noBorderTop:{\r\n        borderBTop:\"none\"\r\n    },\r\n    cardStyle:{\r\n        boxShadow: \" 0 4px 8px 0 rgba(0,0,0,0.2)\",\r\n        transition: \"0.3s\",\r\n        border:\"none\"\r\n    }\r\n}\r\n\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\nconst {fetching,fetchingFailMsg,setCurrentPage,articles,fetchArticlesApi,pagination,fetchArticleByIdApi,resetEditArticle,resetArticle,setEditMode,setArticle,setCurrentArticle,editMode,selectedImageEn,selectedImageFr,validateArticle,toast,modal,setModal,setToast,article,updateArticle,deleteArticleApi}=useContext(ArticleProvider.Context)\r\n\r\nuseEffect(()=>{\r\nfetchArticlesApi()\r\nsetCurrentPage(1)\r\n//alert(\"mount\")\r\n\r\n},[])\r\n\r\n\r\n  return (\r\n    <><CRow>\r\n        <CCol>\r\n          <CCard style={styles.cardStyle}>\r\n            <CCardHeader style={styles.noBorder}>\r\n            <CRow  className=\"mt-4\">\r\n           \r\n\r\n              <CCol md=\"5\">\r\n              All Posts | Showing Page <b>{articles.length ? pagination.from:\"\"}</b>-<b>{articles.length ? pagination.to:\"\"}</b> of <b>{articles.length ? pagination.total: \"\"  }</b> Results\r\n              </CCol>\r\n\r\n              <CCol>\r\n             <SearchInput context={ArticleProvider.Context}/>\r\n              </CCol>\r\n              </CRow>\r\n             \r\n            </CCardHeader>\r\n            <CCardBody>\r\n\r\n\r\n              <table className=\"table table-hover  mb-2 d-none d-sm-table\" style={styles.noBorder}>\r\n                <thead className=\"\"  style={styles.noBorder}>\r\n                  <tr style={styles.noBorder}> \r\n                    <th>Title</th>\r\n                    <th className=\"text-center\">Status</th>\r\n                    <th>Category</th>\r\n                    <th className=\"text-center\">Type</th>\r\n                    <th>Trash</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                    { articles.length ? articles.map((post)=>( \r\n                    <tr key={post.id}><td>\r\n                    <a href={\"/posts/edit/\"+post.id}><h5>{post.title_en}</h5></a>\r\n                      <div className=\"small text-muted\">\r\n                        <a href={\"/posts/edit/\"+post.id}><span>Edit</span></a> | Posted: {post.created_at}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                      <span>{post.status}</span>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"clearfix\">\r\n                        <div className=\"float-left\">\r\n                          <span>{post.category}</span>\r\n                        </div>\r\n                      </div> \r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                    <span>{post.type}</span>\r\n                    </td>\r\n                    <td className=\"text-center\">\r\n                    <FontAwesomeIcon style={{color:post.type==\"dash\" ?\"red\":\"#eee\",cursor:\"pointer\"}} onClick={()=> post.type==\"dash\" && deleteArticleApi(post.id)} icon={faTrash} />\r\n                    </td>\r\n                    </tr>\r\n\r\n                  \r\n                    \r\n                   \r\n                    )):null\r\n                      \r\n                  }\r\n                 \r\n\r\n \r\n                \r\n                </tbody>\r\n              </table>\r\n\r\n\r\n              {!articles.length && fetchingFailMsg!==null && <h3 className=\"mb-4\">{fetchingFailMsg}</h3>}\r\n\r\n              {!articles.length && fetching && <h3 className=\"mb-4\">Loading..</h3>}\r\n              \r\n              {articles.length ? <Paginations context={ArticleProvider.Context} /> : \"\" }\r\n\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <LoginModal context={ArticleProvider.Context}/>\r\n      </CRow>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n"]},"metadata":{},"sourceType":"module"}